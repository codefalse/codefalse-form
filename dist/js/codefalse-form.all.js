"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(f){var i={init:function(a,t){var e=this;if(e.dom=f("body"),e.$elem=f(t),e.options=f.extend({},f.fn.modaal.options,e.$elem.data(),a),e.xhr=null,e.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2),source:e.options.content_source?e.options.content_source:e.$elem.attr("href")},e.$elem.attr("data-modaal-scope",e.scope.id),e.private_options={active_class:"is_active"},e.lastFocus=null,e.options.is_locked||"confirm"==e.options.type||e.options.hide_close?e.scope.close_btn="":e.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+e.options.close_aria_label+'"><span>'+e.options.close_text+"</span></button>","none"===e.options.animation&&(e.options.animation_speed=0,e.options.after_callback_delay=0),f(t).on("click.Modaal",function(a){a.preventDefault(),e.create_modaal(e,a)}),!0===e.options.outer_controls)var o="outer";else o="inner";e.scope.prev_btn='<button type="button" class="modaal-gallery-control modaal-gallery-prev modaal-gallery-prev-'+o+'" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',e.scope.next_btn='<button type="button" class="modaal-gallery-control modaal-gallery-next modaal-gallery-next-'+o+'" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>',!0===e.options.start_open&&e.create_modaal(e)},create_modaal:function(a,t){var e;if((a=this).lastFocus=a.$elem,!1!==a.options.should_open&&("function"!=typeof a.options.should_open||!1!==a.options.should_open())){switch(a.options.before_open.call(a,t),a.options.type){case"inline":a.create_basic();break;case"ajax":e=a.options.source(a.$elem,a.scope.source),a.fetch_ajax(e);break;case"confirm":a.options.is_locked=!0,a.create_confirm();break;case"image":a.create_image();break;case"iframe":e=a.options.source(a.$elem,a.scope.source),a.create_iframe(e);break;case"video":a.create_video(a.scope.source);break;case"instagram":a.create_instagram()}a.watch_events()}},watch_events:function(){var o=this;o.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),o.dom.on("keydown.Modaal",function(a){var t=a.keyCode,e=a.target;9==t&&o.scope.is_open&&(f.contains(document.getElementById(o.scope.id),e)||f("#"+o.scope.id).find('*[tabindex="0"]').focus())}),o.dom.on("keyup.Modaal",function(a){var t=a.keyCode,e=a.target;return a.shiftKey&&9==a.keyCode&&o.scope.is_open&&(f.contains(document.getElementById(o.scope.id),e)||f("#"+o.scope.id).find(".modaal-close").focus()),!o.options.is_locked&&27==t&&o.scope.is_open?!f(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void o.modaal_close():"image"==o.options.type?(37==t&&o.scope.is_open&&!f("#"+o.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&o.gallery_update("prev"),void(39==t&&o.scope.is_open&&!f("#"+o.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&o.gallery_update("next"))):void 0}),o.dom.on("click.Modaal",function(a){var t=f(a.target);if(o.options.is_locked||!(o.options.overlay_close&&t.is(".modaal-inner-wrapper")||t.is(".modaal-close")||t.closest(".modaal-close").length)){if(t.is(".modaal-confirm-btn"))return t.is(".modaal-ok")&&o.options.confirm_callback.call(o,o.lastFocus),t.is(".modaal-cancel")&&o.options.confirm_cancel_callback.call(o,o.lastFocus),void o.modaal_close();if(t.is(".modaal-gallery-control")){if(t.hasClass("is_hidden"))return;return t.is(".modaal-gallery-prev")&&o.gallery_update("prev"),void(t.is(".modaal-gallery-next")&&o.gallery_update("next"))}}else o.modaal_close()})},build_modal:function(a){var t=this,e="";"instagram"==t.options.type&&(e=" modaal-instagram");var o,i="video"==t.options.type?"modaal-video-wrap":"modaal-content";switch(t.options.animation){case"fade":o=" modaal-start_fade";break;case"slide-down":o=" modaal-start_slidedown";break;default:o=" modaal-start_none"}var l="";t.options.fullscreen&&(l=" modaal-fullscreen"),""===t.options.custom_class&&void 0===t.options.custom_class||(t.options.custom_class=" "+t.options.custom_class);var n="";t.options.width&&t.options.height&&"number"==typeof t.options.width&&"number"==typeof t.options.height?n=' style="max-width:'+t.options.width+"px;height:"+t.options.height+'px;overflow:auto;"':t.options.width&&"number"==typeof t.options.width?n=' style="max-width:'+t.options.width+'px;"':t.options.height&&"number"==typeof t.options.height&&(n=' style="height:'+t.options.height+'px;overflow:auto;"'),("image"==t.options.type||"video"==t.options.type||"instagram"==t.options.type||t.options.fullscreen)&&(n="");var s="";t.is_touch()&&(s=' style="cursor:pointer;"');var d='<div class="modaal-wrapper modaal-'+t.options.type+o+e+l+t.options.custom_class+'" id="'+t.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper"'+s+">";"video"!=t.options.type&&(d+='<div class="modaal-container"'+n+">"),d+='<div class="'+i+' modaal-focus" aria-hidden="false" aria-label="'+t.options.accessible_title+" - "+t.options.close_aria_label+'" role="dialog">',"inline"==t.options.type?d+='<div class="modaal-content-container" role="document"></div>':d+=a,d+="</div>"+t.scope.close_btn,"video"!=t.options.type&&(d+="</div>"),d+="</div>","image"==t.options.type&&!0===t.options.outer_controls&&(d+=t.scope.prev_btn+t.scope.next_btn),d+="</div></div>",f("#"+t.scope.id+"_overlay").length<1&&t.dom.append(d),"inline"==t.options.type&&a.appendTo("#"+t.scope.id+" .modaal-content-container"),t.modaal_overlay("show")},create_basic:function(){var a=f(this.scope.source),t="";a.length?(t=a.contents().detach(),a.empty()):t="Content could not be loaded. Please check the source and try again.",this.build_modal(t)},create_instagram:function(){var e=this,a=e.options.instagram_id,t="",o="Instagram photo couldn't be loaded, please check the embed code and try again.";if(e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),""!=a&&null!=a){var i="https://api.instagram.com/oembed?url=http://instagr.am/p/"+a+"/";f.ajax({url:i,dataType:"jsonp",cache:!1,success:function(a){e.dom.append('<div id="temp-ig" style="width:0;height:0;overflow:hidden;">'+a.html+"</div>"),e.dom.attr("data-igloaded")?window.instgrm.Embeds.process():e.dom.attr("data-igloaded","true");var t="#"+e.scope.id+" .modaal-content-container";0<f(t).length&&setTimeout(function(){f("#temp-ig").contents().clone().appendTo(t),f("#temp-ig").remove()},1e3)},error:function(){t=o;var a=f("#"+e.scope.id+" .modaal-content-container");0<a.length&&(a.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),a.html(t))}})}else t=o;return!1},fetch_ajax:function(a){var e=this;null==e.options.accessible_title&&(e.options.accessible_title="Dialog Window"),null!==e.xhr&&(e.xhr.abort(),e.xhr=null),e.build_modal('<div class="modaal-content-container'+(""!=e.options.loading_class?" "+e.options.loading_class:"")+'">'+e.options.loading_content+"</div>"),e.xhr=f.ajax(a,{success:function(a){var t=f("#"+e.scope.id).find(".modaal-content-container");0<t.length&&(t.removeClass(e.options.loading_class),t.html(a),e.options.ajax_success.call(e,t))},error:function(a){if("abort"!=a.statusText){var t=f("#"+e.scope.id+" .modaal-content-container");0<t.length&&(t.removeClass(e.options.loading_class).addClass(e.options.ajax_error_class),t.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var a,t=this;a='<div class="modaal-content-container"><h1 id="modaal-title">'+t.options.confirm_title+'</h1><div class="modaal-confirm-content">'+t.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+t.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+t.options.confirm_cancel_button_text+"</button></div></div></div>",t.build_modal(a)},create_image:function(){var a,t,e=this,o="";if(e.$elem.is("[data-group]")||e.$elem.is("[rel]")){var i=e.$elem.is("[data-group]"),l=i?e.$elem.attr("data-group"):e.$elem.attr("rel"),n=f(i?'[data-group="'+l+'"]':'[rel="'+l+'"]');n.removeAttr("data-gallery-active","is_active"),e.$elem.attr("data-gallery-active","is_active"),t=n.length-1;var c=[];o='<div class="modaal-gallery-item-wrap">',n.each(function(a,t){var e="",o="",i="",l=!1,n=!1,s=t.getAttribute("data-modaal-desc"),d=t.getAttribute("data-gallery-active");f(t).attr("data-modaal-content-source")?e=f(t).attr("data-modaal-content-source"):f(t).attr("href")?e=f(t).attr("href"):f(t).attr("src")?e=f(t).attr("src"):(e="trigger requires href or data-modaal-content-source attribute",n=!0),i=""!=s&&null!=s?'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+" - </span>"+(o=s).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>":'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+"</span></div>",d&&(l=!0);var r={url:e,alt:o,rawdesc:s,desc:i,active:l,src_error:n};c.push(r)});for(var s=0;s<c.length;s++){var d="",r=c[s].rawdesc?"Image: "+c[s].rawdesc:"Image "+s+" no description";c[s].active&&(d=" "+e.private_options.active_class),o+='<div class="modaal-gallery-item gallery-item-'+s+d+'" aria-label="'+r+'">'+(c[s].src_error?c[s].url:'<img src="'+c[s].url+'" alt=" " style="width:100%">')+c[s].desc+"</div>"}o+="</div>",1!=e.options.outer_controls&&(o+=e.scope.prev_btn+e.scope.next_btn)}else{var m,p=!1;e.scope.source?m=e.scope.source:e.$elem.attr("data-modaal-content-source")?m=e.$elem.attr("data-modaal-content-source"):e.$elem.attr("href")?m=e.$elem.attr("href"):e.$elem.attr("src")?m=e.$elem.attr("src"):(m="trigger requires href or data-modaal-content-source attribute",p=!0);var u="";r="";e.$elem.attr("data-modaal-desc")?(r=e.$elem.attr("data-modaal-desc"),u='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+e.$elem.attr("data-modaal-desc").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):r="Image with no description",o='<div class="modaal-gallery-item is_active" aria-label="'+r+'">'+(p?m:'<img src="'+m+'" alt=" " style="width:100%">')+u+"</div>"}a=o,e.build_modal(a),f(".modaal-gallery-item.is_active").is(".gallery-item-0")&&f(".modaal-gallery-prev").hide(),f(".modaal-gallery-item.is_active").is(".gallery-item-"+t)&&f(".modaal-gallery-next").hide()},gallery_update:function(a){var i=this,l=f("#"+i.scope.id),n=l.find(".modaal-gallery-item").length-1;if(0==n)return!1;var s=l.find(".modaal-gallery-prev"),d=l.find(".modaal-gallery-next"),r=0,c=0,m=l.find(".modaal-gallery-item."+i.private_options.active_class),p="next"==a?m.next(".modaal-gallery-item"):m.prev(".modaal-gallery-item");return i.options.before_image_change.call(i,m,p),("prev"!=a||!l.find(".gallery-item-0").hasClass("is_active"))&&(("next"!=a||!l.find(".gallery-item-"+n).hasClass("is_active"))&&void m.stop().animate({opacity:0},250,function(){p.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var a=f(document).width(),t=1140<a?280:50;r=l.find(".modaal-gallery-item.is_next").width(),c=l.find(".modaal-gallery-item.is_next").height();var e=l.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),o=l.find(".modaal-gallery-item.is_next img").prop("naturalHeight");c=a-t<e?(r=a-t,l.find(".modaal-gallery-item.is_next").css({width:r}),l.find(".modaal-gallery-item.is_next img").css({width:r}),l.find(".modaal-gallery-item.is_next").find("img").height()):(r=e,o),l.find(".modaal-gallery-item-wrap").stop().animate({width:r,height:c},250,function(){m.removeClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeAttr("style"),m.find("img").removeAttr("style"),p.addClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeClass("is_next").css("position",""),p.stop().animate({opacity:1},250,function(){f(this).removeAttr("style").css({width:"100%"}),f(this).find("img").css("width","100%"),l.find(".modaal-gallery-item-wrap").removeAttr("style"),i.options.after_image_change.call(i,p)}),l.find(".modaal-gallery-item").removeAttr("tabindex"),l.find(".modaal-gallery-item."+i.private_options.active_class).attr("tabindex","0").focus(),l.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-0")?s.stop().animate({opacity:0},150,function(){f(this).hide()}):s.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150),l.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-"+n)?d.stop().animate({opacity:0},150,function(){f(this).hide()}):d.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150)})}))},create_video:function(a){var t;t='<iframe src="'+a+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>',this.build_modal('<div class="modaal-video-container">'+t+"</div>")},create_iframe:function(a){var t,e=this;t=null!==e.options.width||void 0!==e.options.width||null!==e.options.height||void 0!==e.options.height?'<iframe src="'+a+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',e.build_modal(t)},modaal_open:function(){var a=this,t=f("#"+a.scope.id),e=a.options.animation;"none"===e&&(t.removeClass("modaal-start_none"),a.options.after_open.call(a,t)),"fade"===e&&t.removeClass("modaal-start_fade"),"slide-down"===e&&t.removeClass("modaal-start_slide_down");f(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),("image"==a.options.type?f("#"+a.scope.id).find(".modaal-gallery-item."+a.private_options.active_class):t.find(".modaal-iframe-elem").length?t.find(".modaal-iframe-elem"):t.find(".modaal-video-wrap").length?t.find(".modaal-video-wrap"):t.find(".modaal-focus")).attr("tabindex","0").focus(),"none"!==e&&setTimeout(function(){a.options.after_open.call(a,t)},a.options.after_callback_delay)},modaal_close:function(){var a=this,t=f("#"+a.scope.id);a.options.before_close.call(a,t),null!==a.xhr&&(a.xhr.abort(),a.xhr=null),"none"===a.options.animation&&t.addClass("modaal-start_none"),"fade"===a.options.animation&&t.addClass("modaal-start_fade"),"slide-down"===a.options.animation&&t.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==a.options.type&&f("#"+a.scope.id+" .modaal-content-container").contents().detach().appendTo(a.scope.source),t.remove(),a.options.after_close.call(a),a.scope.is_open=!1},a.options.after_callback_delay),a.modaal_overlay("hide"),null!=a.lastFocus&&a.lastFocus.focus()},modaal_overlay:function(a){var t=this;"show"==a?(t.scope.is_open=!0,t.options.background_scroll||t.dom.addClass("modaal-noscroll"),f("#"+t.scope.id+"_overlay").length<1&&t.dom.append('<div class="modaal-overlay" id="'+t.scope.id+'_overlay"></div>'),f("#"+t.scope.id+"_overlay").css("background",t.options.background).stop().animate({opacity:t.options.overlay_opacity},t.options.animation_speed,function(){t.modaal_open()})):"hide"==a&&f("#"+t.scope.id+"_overlay").stop().animate({opacity:0},t.options.animation_speed,function(){f(this).remove(),t.dom.removeClass("modaal-noscroll")})},is_touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},l=[];function o(a){var t={},e=!1;a.attr("data-modaal-type")&&(e=!0,t.type=a.attr("data-modaal-type")),a.attr("data-modaal-content-source")&&(e=!0,t.content_source=a.attr("data-modaal-content-source")),a.attr("data-modaal-animation")&&(e=!0,t.animation=a.attr("data-modaal-animation")),a.attr("data-modaal-animation-speed")&&(e=!0,t.animation_speed=a.attr("data-modaal-animation-speed")),a.attr("data-modaal-after-callback-delay")&&(e=!0,t.after_callback_delay=a.attr("data-modaal-after-callback-delay")),a.attr("data-modaal-is-locked")&&(e=!0,t.is_locked="true"===a.attr("data-modaal-is-locked")),a.attr("data-modaal-hide-close")&&(e=!0,t.hide_close="true"===a.attr("data-modaal-hide-close")),a.attr("data-modaal-background")&&(e=!0,t.background=a.attr("data-modaal-background")),a.attr("data-modaal-overlay-opacity")&&(e=!0,t.overlay_opacity=a.attr("data-modaal-overlay-opacity")),a.attr("data-modaal-overlay-close")&&(e=!0,t.overlay_close="false"!==a.attr("data-modaal-overlay-close")),a.attr("data-modaal-accessible-title")&&(e=!0,t.accessible_title=a.attr("data-modaal-accessible-title")),a.attr("data-modaal-start-open")&&(e=!0,t.start_open="true"===a.attr("data-modaal-start-open")),a.attr("data-modaal-fullscreen")&&(e=!0,t.fullscreen="true"===a.attr("data-modaal-fullscreen")),a.attr("data-modaal-custom-class")&&(e=!0,t.custom_class=a.attr("data-modaal-custom-class")),a.attr("data-modaal-close-text")&&(e=!0,t.close_text=a.attr("data-modaal-close-text")),a.attr("data-modaal-close-aria-label")&&(e=!0,t.close_aria_label=a.attr("data-modaal-close-aria-label")),a.attr("data-modaal-background-scroll")&&(e=!0,t.background_scroll="true"===a.attr("data-modaal-background-scroll")),a.attr("data-modaal-width")&&(e=!0,t.width=parseInt(a.attr("data-modaal-width"))),a.attr("data-modaal-height")&&(e=!0,t.height=parseInt(a.attr("data-modaal-height"))),a.attr("data-modaal-confirm-button-text")&&(e=!0,t.confirm_button_text=a.attr("data-modaal-confirm-button-text")),a.attr("data-modaal-confirm-cancel-button-text")&&(e=!0,t.confirm_cancel_button_text=a.attr("data-modaal-confirm-cancel-button-text")),a.attr("data-modaal-confirm-title")&&(e=!0,t.confirm_title=a.attr("data-modaal-confirm-title")),a.attr("data-modaal-confirm-content")&&(e=!0,t.confirm_content=a.attr("data-modaal-confirm-content")),a.attr("data-modaal-gallery-active-class")&&(e=!0,t.gallery_active_class=a.attr("data-modaal-gallery-active-class")),a.attr("data-modaal-loading-content")&&(e=!0,t.loading_content=a.attr("data-modaal-loading-content")),a.attr("data-modaal-loading-class")&&(e=!0,t.loading_class=a.attr("data-modaal-loading-class")),a.attr("data-modaal-ajax-error-class")&&(e=!0,t.ajax_error_class=a.attr("data-modaal-ajax-error-class")),a.attr("data-modaal-instagram-id")&&(e=!0,t.instagram_id=a.attr("data-modaal-instagram-id")),e&&a.modaal(t)}f.fn.modaal=function(o){return this.each(function(a){var t=f(this).data("modaal");if(t){if("string"==typeof o)switch(o){case"open":t.create_modaal(t);break;case"close":t.modaal_close()}}else{var e=Object.create(i);e.init(o,this),f.data(this,"modaal",e),l.push({element:f(this).attr("class"),options:o})}})},f.fn.modaal.options={type:"inline",content_source:null,animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(a,t){return t},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",outer_controls:!1,before_image_change:function(a,t){},after_image_change:function(a){},loading_content:'<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},f(function(){var a=f(".modaal");a.length&&a.each(function(){o(f(this))});var t=new MutationObserver(function(a){a.forEach(function(a){if(a.addedNodes&&0<a.addedNodes.length)[].some.call(a.addedNodes,function(a){var t=f(a);(t.is("a")||t.is("button"))&&(t.hasClass("modaal")?o(t):l.forEach(function(a){if(a.element==t.attr("class"))return f(t).modaal(a.options),!1}))})})}),e={subtree:!0,attributes:!0,childList:!0,characterData:!0};setTimeout(function(){t.observe(document.body,e)},500)})}(jQuery,window,document),function(s){function d(a,t,e){var o='<div class="codefalse-file-item file-item" style="height: '+a.height+";width: "+a.width+';">   <div class="codefalse-file-operation" style="width: '+a.width+';">      <i class="codefalse-file-del codefalse-font icon-delete"></i>      <i class="codefalse-file-yulan codefalse-font icon-yulan"></i>   </div>   <img src="'+e+'" />   <input type="hidden" name="'+a.name+'" value="'+e+'"/></div>',i=s("#"+t).find(".file-add");i.before(o),i.prev().find(".codefalse-file-yulan").modaal({type:"image",content_source:e})}s.fn.codefalseFile=function(a,e){var i=this,t=s(this),l=s.extend({},{width:"200px",height:"200px",name:"codefalseFile"},a),n="codefalse-file-"+parseInt(1e5*Math.random()+"");t.on("change",function(){for(var a=s(i)[0].files,t=0;t<a.length;t++){var e=a[t],o=new FileReader;o.readAsDataURL(e),o.onload=function(a){d(l,n,a.target.result)}}});var o={_init:function(){var a;t.attr("style","display:none"),t.after('<div id="'+n+'" class="codefalse-file">    <div class="codefalse-file-item file-add" style="height: '+(a=l).height+";width: "+a.width+';">        <i class="codefalse-font icon-add" style="line-height: '+a.height+';"></i>    </div></div>'),s(".file-add>i").on("click",function(){t.trigger("click")}),s("#"+n).on("mouseenter",".file-item",function(){s(this).find(".codefalse-file-operation").show()}),s("#"+n).on("mouseleave",".file-item",function(){s(this).find(".codefalse-file-operation").hide()}),s("#"+n).on("click",".codefalse-file-del",function(){var a=s(this).parent().parent(),t=a.find("img").attr("src");"function"==typeof e&&e(t),a.remove()})},adapter:function(a){if("object"===(void 0===a?"undefined":_typeof(a))){if(void 0===a.length)return;for(var t=0;t<a.length;t++)d(l,n,a[t])}}};return o._init(),o}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNmLWZpbGUuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCIkIiwiTW9kYWFsIiwiaW5pdCIsIm9wdGlvbnMiLCJlbGVtIiwic2VsZiIsInRoaXMiLCJkb20iLCIkZWxlbSIsImV4dGVuZCIsImZuIiwibW9kYWFsIiwiZGF0YSIsInhociIsInNjb3BlIiwiaXNfb3BlbiIsImlkIiwiRGF0ZSIsImdldFRpbWUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzb3VyY2UiLCJjb250ZW50X3NvdXJjZSIsImF0dHIiLCJwcml2YXRlX29wdGlvbnMiLCJhY3RpdmVfY2xhc3MiLCJsYXN0Rm9jdXMiLCJpc19sb2NrZWQiLCJ0eXBlIiwiaGlkZV9jbG9zZSIsImNsb3NlX2J0biIsImNsb3NlX2FyaWFfbGFiZWwiLCJjbG9zZV90ZXh0IiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uX3NwZWVkIiwiYWZ0ZXJfY2FsbGJhY2tfZGVsYXkiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNyZWF0ZV9tb2RhYWwiLCJvdXRlcl9jb250cm9scyIsIm1vZF9jbGFzcyIsInByZXZfYnRuIiwibmV4dF9idG4iLCJzdGFydF9vcGVuIiwic2hvdWxkX29wZW4iLCJiZWZvcmVfb3BlbiIsImNhbGwiLCJjcmVhdGVfYmFzaWMiLCJmZXRjaF9hamF4IiwiY3JlYXRlX2NvbmZpcm0iLCJjcmVhdGVfaW1hZ2UiLCJjcmVhdGVfaWZyYW1lIiwiY3JlYXRlX3ZpZGVvIiwiY3JlYXRlX2luc3RhZ3JhbSIsIndhdGNoX2V2ZW50cyIsIm9mZiIsImtleSIsImtleUNvZGUiLCJ0YXJnZXQiLCJjb250YWlucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmaW5kIiwiZm9jdXMiLCJzaGlmdEtleSIsImFjdGl2ZUVsZW1lbnQiLCJpcyIsIm1vZGFhbF9jbG9zZSIsImhhc0NsYXNzIiwiZ2FsbGVyeV91cGRhdGUiLCJ0cmlnZ2VyIiwib3ZlcmxheV9jbG9zZSIsImNsb3Nlc3QiLCJsZW5ndGgiLCJjb25maXJtX2NhbGxiYWNrIiwiY29uZmlybV9jYW5jZWxfY2FsbGJhY2siLCJidWlsZF9tb2RhbCIsImNvbnRlbnQiLCJpZ0NsYXNzIiwiYW5pbWF0aW9uX2NsYXNzIiwid3JhcF9jbGFzcyIsImZ1bGxzY3JlZW5fY2xhc3MiLCJmdWxsc2NyZWVuIiwiY3VzdG9tX2NsYXNzIiwiZGltZW5zaW9uc1N0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJ0b3VjaFRyaWdnZXIiLCJpc190b3VjaCIsImJ1aWxkX21hcmt1cCIsImFjY2Vzc2libGVfdGl0bGUiLCJhcHBlbmQiLCJhcHBlbmRUbyIsIm1vZGFhbF9vdmVybGF5IiwiY29udGVudHMiLCJkZXRhY2giLCJlbXB0eSIsImluc3RhZ3JhbV9pZCIsImVycm9yX21zZyIsImxvYWRpbmdfY2xhc3MiLCJsb2FkaW5nX2NvbnRlbnQiLCJpZ191cmwiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJjYWNoZSIsInN1Y2Nlc3MiLCJodG1sIiwid2luZG93IiwiaW5zdGdybSIsIkVtYmVkcyIsInByb2Nlc3MiLCJzZXRUaW1lb3V0IiwiY2xvbmUiLCJyZW1vdmUiLCJlcnJvciIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJhamF4X2Vycm9yX2NsYXNzIiwiYWJvcnQiLCJhamF4X3N1Y2Nlc3MiLCJzdGF0dXNUZXh0IiwiY29uZmlybV90aXRsZSIsImNvbmZpcm1fY29udGVudCIsImNvbmZpcm1fYnV0dG9uX3RleHQiLCJjb25maXJtX2NhbmNlbF9idXR0b25fdGV4dCIsImdhbGxlcnlfdG90YWwiLCJtb2RhYWxfaW1hZ2VfbWFya3VwIiwidXNlX2dyb3VwIiwiZ2FsbGVyeV9ncm91cCIsImdhbGxlcnlfZ3JvdXBfaXRlbXMiLCJyZW1vdmVBdHRyIiwiZ2FsbGVyeSIsImVhY2giLCJpIiwiaXRlbSIsImltZ19zcmMiLCJpbWdfYWx0IiwiaW1nX2Rlc2NyaXB0aW9uIiwiaW1nX2FjdGl2ZSIsImltZ19zcmNfZXJyb3IiLCJkYXRhX21vZGFhbF9kZXNjIiwiZ2V0QXR0cmlidXRlIiwiZGF0YV9pdGVtX2FjdGl2ZSIsInJlcGxhY2UiLCJnYWxsZXJ5X2l0ZW0iLCJhbHQiLCJyYXdkZXNjIiwiZGVzYyIsImFjdGl2ZSIsInNyY19lcnJvciIsInB1c2giLCJpc19hY3RpdmUiLCJhcmlhX2xhYmVsIiwidGhpc19pbWdfc3JjIiwidGhpc19pbWdfYWx0IiwiaGlkZSIsImRpcmVjdGlvbiIsInRoaXNfZ2FsbGVyeSIsInRoaXNfZ2FsbGVyeV90b3RhbCIsIm5ld19pbWdfdyIsIm5ld19pbWdfaCIsImN1cnJlbnRfaXRlbSIsImluY29taW5nX2l0ZW0iLCJuZXh0IiwicHJldiIsImJlZm9yZV9pbWFnZV9jaGFuZ2UiLCJzdG9wIiwiYW5pbWF0ZSIsIm9wYWNpdHkiLCJjc3MiLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJkb2Nfd2lkdGgiLCJ3aWR0aF90aHJlc2hvbGQiLCJuZXdfbmF0dXJhbF93IiwicHJvcCIsIm5ld19uYXR1cmFsX2giLCJnYWxsZXJ5X2FjdGl2ZV9jbGFzcyIsImFmdGVyX2ltYWdlX2NoYW5nZSIsInVuZGVmaW5lZCIsIm1vZGFhbF9vcGVuIiwibW9kYWxfd3JhcHBlciIsImFuaW1hdGlvbl90eXBlIiwiYWZ0ZXJfb3BlbiIsImJlZm9yZV9jbG9zZSIsImFmdGVyX2Nsb3NlIiwiYWN0aW9uIiwiYmFja2dyb3VuZF9zY3JvbGwiLCJiYWNrZ3JvdW5kIiwib3ZlcmxheV9vcGFjaXR5IiwibmF2aWdhdG9yIiwibWF4VG91Y2hQb2ludHMiLCJtb2RhYWxfZXhpc3Rpbmdfc2VsZWN0b3JzIiwibW9kYWFsX2lubGluZV9vcHRpb25zIiwiaW5saW5lX29wdGlvbnMiLCJwYXJzZUludCIsImV4aXN0aW5nX21vZGFhbCIsIk9iamVjdCIsImNyZWF0ZSIsImVsZW1lbnQiLCJzcmMiLCJzaW5nbGVfbW9kYWFsIiwibW9kYWFsX2RvbV9vYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJmb3JFYWNoIiwibXV0YXRpb24iLCJhZGRlZE5vZGVzIiwic29tZSIsImVsIiwiZWxtIiwibW9kYWFsU2VsZWN0b3IiLCJvYnNlcnZlcl9jb25maWciLCJzdWJ0cmVlIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJvYnNlcnZlIiwiYm9keSIsImpRdWVyeSIsIl9jcmVhdGVGaWxlSXRlbSIsImNvZGVmYWxzZUlkIiwibmFtZSIsImFkZERvbSIsImJlZm9yZSIsImNvZGVmYWxzZUZpbGUiLCJjYWxsYmFjayIsIl90aGlzMiIsIl90aGlzIiwiZmlsZU9wdGlvbnMiLCJmaWxlcyIsImZpbGUiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWQiLCJyZXN1bHQiLCJtZXRob2RzIiwiX2luaXQiLCJhZnRlciIsInNob3ciLCJmaWxlRG9tIiwicGFyZW50IiwiYWRhcHRlciIsImltYWdlcyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQUFJQSxRQUE0QixtQkFBWEMsUUFBb0QsaUJBQXBCQSxPQUFPQyxTQUF3QixTQUFVQyxHQUFPLGNBQWNBLEdBQVMsU0FBVUEsR0FBTyxPQUFPQSxHQUF5QixtQkFBWEYsUUFBeUJFLEVBQUlDLGNBQWdCSCxRQUFVRSxJQUFRRixPQUFPSSxVQUFZLGdCQUFrQkYsSUFxRnRRLFNBQVdHLEdBRVYsSUFFSUMsRUFBUyxDQUNaQyxLQUFNLFNBQWNDLEVBQVNDLEdBQzVCLElBQUlDLEVBQU9DLEtBNkNYLEdBM0NBRCxFQUFLRSxJQUFNUCxFQUFFLFFBRWJLLEVBQUtHLE1BQVFSLEVBQUVJLEdBQ2ZDLEVBQUtGLFFBQVVILEVBQUVTLE9BQU8sR0FBSVQsRUFBRVUsR0FBR0MsT0FBT1IsUUFBU0UsRUFBS0csTUFBTUksT0FBUVQsR0FDcEVFLEVBQUtRLElBQU0sS0FHWFIsRUFBS1MsTUFBUSxDQUNaQyxTQUFTLEVBQ1RDLEdBQUksV0FBWSxJQUFJQyxNQUFPQyxV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RWZwUCxFQUFFLElBQU1pTyxHQUFhM0wsR0FBRyxhQUFjLGFBQWMsV0FDL0J0QyxFQUFFTSxNQUFNMkQsS0FBSyw2QkFDbkI4RixTQUdmL0osRUFBRSxJQUFNaU8sR0FBYTNMLEdBQUcsUUFBUyxzQkFBdUIsV0FDdkQsSUFBSStNLEVBQVVyUCxFQUFFTSxNQUFNZ1AsU0FBU0EsU0FFM0IxQyxFQURNeUMsRUFBUXBMLEtBQUssT0FDVHhDLEtBQUssT0FDSyxtQkFBYjZNLEdBQ1ZBLEVBQVMxQixHQUVWeUMsRUFBUWhJLFlBR1ZrSSxRQUFTLFNBQWlCQyxHQUN6QixHQUF3RSxpQkFBakQsSUFBWEEsRUFBeUIsWUFBYzlQLFFBQVE4UCxJQUF1QixDQUVqRixRQUFZakUsSUFERmlFLEVBQU81SyxPQUdoQixPQUVELElBQUssSUFBSTZELEVBQUksRUFBR0EsRUFBSStHLEVBQU81SyxPQUFRNkQsSUFDbEN1RixFQUFnQlMsRUFBYVIsRUFBYXVCLEVBQU8vRyxPQU1yRCxPQURBd0csRUFBUUMsUUFDREQsR0E1RlQsQ0E4RkdsQiIsImZpbGUiOiJjZi1maWxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG4vKiFcblx0TW9kYWFsIC0gYWNjZXNzaWJsZSBtb2RhbHMgLSB2MC40LjRcblx0YnkgSHVtYWFuLCBmb3IgYWxsIGh1bWFucy5cblx0aHR0cDovL2h1bWFhbi5jb21cbiAqL1xuLyoqXG5cdE1vZGFhbCBqUXVlcnkgUGx1Z2luIDogQWNjZXNzaWJsZSBNb2RhbHNcblxuXHQ9PT09IEdlbmVyYWwgT3B0aW9ucyA9PT1cblx0dHlwZSAoc3RyaW5nKSBcdFx0XHRcdFx0OiBhamF4LCBpbmxpbmUsIGltYWdlLCBpZnJhbWUsIGNvbmZpcm0uIERlZmF1bHRzIHRvICdpbmxpbmUnXG5cdGNvbnRlbnRfc291cmNlIChzdHJpYmcpXHRcdFx0OiBBY2NlcHRzIGEgc3RyaW5nIHZhbHVlIGZvciB5b3VyIHRhcmdldCBlbGVtZW50LCBzdWNoIGFzICcjbXktY29udGVudCcuIFRoaXMgYWxsb3dzIGZvciB3aGVuIHRyaWdnZXIgZWxlbWVudCBpc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhbiBgPGEgaHJlZj1cIiNcIj5gIGxpbmsuIE5vdCB0byBiZSBjb25mdXNlZCB3aXRoIHRoZSBhbHJlYWR5IGV4aXN0aW5nIGBzb3VyY2VgIGV2ZW50LlxuXHRhbmltYXRpb24gKHN0cmluZykgXHRcdFx0XHQ6IEZhZGUsIGV4cGFuZCwgZG93biwgdXAuIERlZmF1bHRzIHRvICdmYWRlJ1xuXHRhZnRlcl9jYWxsYmFja19kZWxheSAoaW50ZWdlcilcdDogU3BlY2lmeSBhIGRlbGF5IHZhbHVlIGZvciB0aGUgYWZ0ZXIgb3BlbiBjYWxsYmFja3MuIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2l0aCB0aGUgYnVuZGxlZCBhbmltYXRpb25zXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhhdmUgYSBzZXQgZHVyYXRpb24gaW4gdGhlIGJ1bmRsZWQgQ1NTLiBTcGVjaWZ5IGEgZGVsYXkgb2YgdGhlIHNhbWUgYW1vdW50IGFzIHRoZSBhbmltYXRpb24gZHVyYXRpb24gaW4gc29cblx0XHRcdFx0XHRcdFx0XHRcdFx0bW9yZSBhY2N1cmF0ZWx5IGZpcmUgdGhlIGFmdGVyIG9wZW4vY2xvc2UgY2FsbGJhY2tzLiBEZWZhdWx0cyAzNTAsIGRvZXMgbm90IGFwcGx5IGlmIGFuaW1hdGlvbiBpcyAnbm9uZScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFmdGVyIG9wZW4gY2FsbGJhY2tzIGFyZSBkaXNwYXRjaGVkIGltbWVkaWF0ZWx5XG5cblx0aXNfbG9ja2VkIChib29sZWFuKVx0XHRcdFx0OiBTZXQgdGhpcyB0byB0cnVlIHRvIGRpc2FibGUgY2xvc2luZyB0aGUgbW9kYWwgdmlhIGtleXByZXNzIG9yIGNsaWNraW5nIHRoZSBiYWNrZ3JvdW5kLiBCZXdhcmUgdGhhdCBpZlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlICE9ICdjb25maXJtJyB0aGVyZSB3aWxsIGJlIG5vIGludGVyZmFjZSB0byBkaXNtaXNzIHRoZSBtb2RhbCBpZiBpc19sb2NrZWQgPSB0cnVlLCB5b3UnZCBoYXZlIHRvXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHByb2dyYW1tYXRpY2FsbHkgYXJyYW5nZSB0byBkaXNtaXNzIHRoZSBtb2RhbC4gQ29uZmlybSBtb2RhbHMgYXJlIGFsd2F5cyBsb2NrZWQgcmVnYXJkbGVzcyBvZiB0aGlzIG9wdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHREZWZhdWx0cyB0byBmYWxzZVxuXG5cdGhpZGVfY2xvc2UgKGJvb2xlYW4pXHRcdFx0OiBTZXQgdGhpcyB0byB0cnVlIHRvIGhpZGUgdGhlIGNsb3NlIG1vZGFsIGJ1dHRvbi4gS2V5IHByZXNzIGFuZCBvdmVybGF5IGNsaWNrIHdpbGwgc3RpbGwgY2xvc2UgdGhlIG1vZGFsLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRUaGlzIG1ldGhvZCBpcyBiZXN0IHVzZWQgd2hlbiB5b3Ugd2FudCB0byBwdXQgYSBjdXN0b20gY2xvc2UgYnV0dG9uIGluc2lkZSB0aGUgbW9kYWwgY29udGFpbmVyIHNwYWNlLlxuXG5cdGJhY2tncm91bmQgKHN0cmluZylcdFx0XHRcdDogQmFja2dyb3VuZCBvdmVybGF5IHN0eWxlLiBEZWZhdWx0cyB0byAnIzAwMCdcblx0b3ZlcmxheV9vcGFjaXR5IChmbG9hdCkgXHRcdDogQmFja2dyb3VuZCBvdmVybGF5IHRyYW5zcGFyZW5jeS4gRGVmYXVsdHMgdG8gMC44XG5cdG92ZXJsYXlfY2xvc2UgKGJvb2xlYW4pXHRcdFx0OiBTZXQgdGhpcyB0byBmYWxzZSBpZiB5b3Ugd2FudCB0byBkaXNhYmxlIGNsaWNrIHRvIGNsb3NlIG9uIG92ZXJsYXkgYmFja2dyb3VuZC5cblxuXHRhY2Nlc3NpYmxlX3RpdGxlIChzdHJpbmcpXHRcdDogQWNjZXNzaWJsZSB0aXRsZS4gRGVmYXVsdCAnRGlhbG9nIFdpbmRvdydcblx0c3RhcnRfb3BlbiAoYm9vbGVhbilcdFx0XHQ6IFNldCB0aGlzIHRvIHRydWUgdG8gbGF1bmNoIHRoZSBNb2RhYWwgd2luZG93IGltbWVkaWF0ZWx5IG9uIHBhZ2Ugb3BlblxuXHRmdWxsc2NyZWVuIChib29sZWFuKVx0XHRcdDogU2V0IHRoaXMgdG8gdHJ1ZSB0byBtYWtlIHRoZSBtb2RhYWwgZmlsbCB0aGUgZW50aXJlIHNjcmVlbiwgZmFsc2Ugd2lsbCBkZWZhdWx0IHRvIG93biB3aWR0aC9oZWlnaHQgYXR0cmlidXRlcy5cblx0Y3VzdG9tX2NsYXNzIChzdHJpbmcpXHRcdFx0OiBGaWxsIGluIHRoaXMgc3RyaW5nIHdpdGggYSBjdXN0b20gY2xhc3MgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIG91dGVyIG1vc3QgbW9kYWwgd3JhcHBlci5cblxuXHR3aWR0aCAoaW50ZWdlcilcdFx0XHRcdFx0OiBEZXNpcmVkIHdpZHRoIG9mIHRoZSBtb2RhbC4gUmVxdWlyZWQgZm9yIGlmcmFtZSB0eXBlLiBEZWZhdWx0cyB0byB1bmRlZmluZWQgLy9UT0RPXG5cdGhlaWdodCAoaW50ZWdlcilcdFx0XHRcdDogRGVzaXJlZCBoZWlnaHQgb2YgdGhlIG1vZGFsLiBSZXF1aXJlZCBmb3IgaWZyYW1lIHR5cGUuIERlZmF1bHRzIHRvIHVuZGVmaW5lZCAvL1RPRE9cblxuXHRiYWNrZ3JvdW5kX3Njcm9sbCAoYm9vbGVhbilcdFx0OiBTZXQgdGhpcyB0byB0cnVlIHRvIGVuYWJsZSB0aGUgcGFnZSB0byBzY3JvbGwgYmVoaW5kIHRoZSBvcGVuIG1vZGFsLlxuXG4gICAgc2hvdWxkX29wZW4gKGJvb2xlYW58ZnVuY3Rpb24pICA6IEJvb2xlYW4gb3IgY2xvc3VyZSB0aGF0IHJldHVybnMgYSBib29sZWFuIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIG9wZW4gdGhlIG1vZGFsIG9yIG5vdC5cblxuXHRjbG9zZV90ZXh0XHRcdFx0XHRcdFx0OiBTdHJpbmcgZm9yIGNsb3NlIGJ1dHRvbiB0ZXh0LiBBdmFpbGFibGUgZm9yIGxvY2FsaXNhdGlvbiBhbmQgYWx0ZXJuYXRpdmUgbGFuZ3VhZ2VzIHRvIGJlIHVzZWQuXG5cdGNsb3NlX2FyaWFfbGFiZWxcdFx0XHRcdDogU3RyaW5nIGZvciBjbG9zZSBidXR0b24gYXJpYS1sYWJlbCBhdHRyaWJ1dGUgKHZhbHVlIHRoYXQgc2NyZWVuIHJlYWRlcnMgd2lsbCByZWFkIG91dCkuIEF2YWlsYWJsZSBmb3IgbG9jYWxpc2F0aW9uIGFuZCBhbHRlcm5hdGl2ZSBsYW5ndWFnZXMgdG8gYmUgdXNlZC5cblxuXHQ9PT0gRXZlbnRzID09PVxuXHRiZWZvcmVfb3BlbiAoZnVuY3Rpb24pIFx0XHRcdDogQ2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgYmVmb3JlIG1vZGFsIGlzIG9wZW5lZFxuXHRhZnRlcl9vcGVuIChmdW5jdGlvbilcdFx0XHQ6IENhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIGFmdGVyIG1vZGFsIGlzIG9wZW5lZFxuXHRiZWZvcmVfY2xvc2UgKGZ1bmN0aW9uKVx0XHRcdDogQ2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgYmVmb3JlIG1vZGFsIGlzIGNsb3NlZFxuXHRhZnRlcl9jbG9zZSAoZnVuY3Rpb24pXHRcdFx0OiBDYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBhZnRlciBtb2RhbCBpcyBjbG9zZWRcblx0c291cmNlIChmdW5jdGlvbihlbGVtZW50LCBzcmMpKVx0OiBDYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbiB0aGUgZGVmYXVsdCBzb3VyY2UsIGl0IGlzIGludGVuZGVkIHRvIHRyYW5zZm9ybSB0aGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0c291cmNlIChocmVmIGluIGFuIEFKQVggbW9kYWwgb3IgaWZyYW1lKS4gVGhlIGZ1bmN0aW9uIHBhc3NlcyBpbiB0aGUgdHJpZ2dlcmluZyBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFzIHdlbGwgYXMgdGhlIGRlZmF1bHQgc291cmNlIGRlcGVuZGluZyBvZiB0aGUgbW9kYWwgdHlwZS4gVGhlIGRlZmF1bHQgb3V0cHV0IG9mIHRoZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbiBpcyBhbiB1bnRyYW5zZm9ybWVkIGRlZmF1bHQgc291cmNlLlxuXG5cblx0PT09IENvbmZpcm0gT3B0aW9ucyAmIEV2ZW50cyA9PT1cblx0Y29uZmlybV9idXR0b25fdGV4dCAoc3RyaW5nKVx0OiBUZXh0IG9uIHRoZSBjb25maXJtIGJ1dHRvbi4gRGVmYXVsdHMgdG8gJ0NvbmZpcm0nXG5cdGNvbmZpcm1fY2FuY2VsX2J1dHRvbl90ZXh0IChzdHJpbmcpIDogVGV4dCBvbiB0aGUgY29uZmlybSBtb2RhbCBjYW5jZWwgYnV0dG9uLiBEZWZhdWx0cyB0byAnQ2FuY2VsJ1xuXHRjb25maXJtX3RpdGxlIChzdHJpbmcpXHRcdFx0OiBUaXRsZSBmb3IgY29uZmlybSBtb2RhbC4gRGVmYXVsdCAnQ29uZmlybSBUaXRsZSdcblx0Y29uZmlybV9jb250ZW50IChzdHJpbmcpXHRcdDogSFRNTCBjb250ZW50IGZvciBjb25maXJtIG1lc3NhZ2Vcblx0Y29uZmlybV9jYWxsYmFjayAoZnVuY3Rpb24pXHRcdDogQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIHdoZW4gdGhlIGNvbmZpcm0gYnV0dG9uIGlzIHByZXNzZWQgYXMgb3Bwb3NlZCB0byBjYW5jZWxcblx0Y29uZmlybV9jYW5jZWxfY2FsbGJhY2sgKGZ1bmN0aW9uKSA6IENhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIHRoZSBjYW5jZWwgYnV0dG9uIGlzIHByZXNzZWRcblxuXG5cdD09PSBHYWxsZXJ5IE9wdGlvbnMgJiBFdmVudHMgPT09XG5cdGdhbGxlcnlfYWN0aXZlX2NsYXNzIChzdHJpbmcpXHQ6IEFjdGl2ZSBjbGFzcyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIGltYWdlIG9yIGltYWdlIHNsaWRlIGluIGEgZ2FsbGVyeSAnZ2FsbGVyeV9hY3RpdmVfaXRlbSdcblx0b3V0ZXJfY29udHJvbHMgKGJvb2xlYW4pXHRcdDogU2V0IHRvIHRydWUgdG8gcHV0IHRoZSBuZXh0L3ByZXYgY29udHJvbHMgb3V0c2lkZSB0aGUgTW9kYWFsIHdyYXBwZXIsIGF0IHRoZSBlZGdlcyBvZiB0aGUgYnJvd3NlciB3aW5kb3cuXG5cdGJlZm9yZV9pbWFnZV9jaGFuZ2UgKGZ1bmN0aW9uKVx0OiBDYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBiZWZvcmUgdGhlIGltYWdlIHNsaWRlIGNoYW5nZXMgaW4gYSBnYWxsZXJ5IG1vZGFsLiBEZWZhdWx0IGZ1bmN0aW9uKCBjdXJyZW50X2l0ZW0sIGluY29taW5nX2l0ZW0gKVxuXHRhZnRlcl9pbWFnZV9jaGFuZ2UgKGZ1bmN0aW9uKVx0OiBDYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBhZnRlciB0aGUgaW1hZ2Ugc2xpZGUgY2hhbmdlcyBpbiBhIGdhbGxlcnkgbW9kYWwuIERlZmF1bHQgZnVuY3Rpb24gKCBjdXJyZW50X2l0ZW0gKVxuXG5cblx0PT09IEFKQVggT3B0aW9ucyAmIEV2ZW50cyA9PT1cblx0bG9hZGluZ19jb250ZW50IChzdHJpbmcpXHRcdDogSFRNTCBjb250ZW50IGZvciBsb2FkaW5nIG1lc3NhZ2UuIERlZmF1bHQgJ0xvYWRpbmcgJmhlbGxpcDsnXG5cdGxvYWRpbmdfY2xhc3MgKHN0cmluZylcdFx0XHQ6IENsYXNzIG5hbWUgdG8gYmUgYXBwbGllZCB3aGlsZSBjb250ZW50IGlzIGxvYWRlZCB2aWEgQUpBWC4gRGVmYXVsdCAnaXNfbG9hZGluZydcblx0YWpheF9lcnJvcl9jbGFzcyAoc3RyaW5nKVx0XHQ6IENsYXNzIG5hbWUgdG8gYmUgYXBwbGllZCB3aGVuIGNvbnRlbnQgaGFzIGZhaWxlZCB0byBsb2FkLiBEZWZhdWx0IGlzICdtb2RhYWwtZXJyb3InXG5cdGFqYXhfc3VjY2VzcyAoZnVuY3Rpb24pXHRcdCBcdDogQ2FsbGJhY2sgZm9yIHdoZW4gQUpBWCBjb250ZW50IGlzIGxvYWRlZCBpblxuXG5cblx0PT09IFNPQ0lBTCBDT05URU5UID09PVxuXHRpbnN0YWdyYW1faWQgKHN0cmluZylcdFx0XHQ6IFVuaXF1ZSBwaG90byBJRCBmb3IgYW4gSW5zdGFncmFtIHBob3RvLlxuXG4qL1xuKGZ1bmN0aW9uICgkKSB7XG5cblx0dmFyIG1vZGFhbF9sb2FkaW5nX3NwaW5uZXIgPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC1sb2FkaW5nLXNwaW5uZXJcIj48ZGl2PjxkaXY+PC9kaXY+PC9kaXY+PGRpdj48ZGl2PjwvZGl2PjwvZGl2PjxkaXY+PGRpdj48L2Rpdj48L2Rpdj48ZGl2PjxkaXY+PC9kaXY+PC9kaXY+PGRpdj48ZGl2PjwvZGl2PjwvZGl2PjxkaXY+PGRpdj48L2Rpdj48L2Rpdj48ZGl2PjxkaXY+PC9kaXY+PC9kaXY+PGRpdj48ZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XG5cblx0dmFyIE1vZGFhbCA9IHtcblx0XHRpbml0OiBmdW5jdGlvbiBpbml0KG9wdGlvbnMsIGVsZW0pIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0c2VsZi5kb20gPSAkKCdib2R5Jyk7XG5cblx0XHRcdHNlbGYuJGVsZW0gPSAkKGVsZW0pO1xuXHRcdFx0c2VsZi5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4ubW9kYWFsLm9wdGlvbnMsIHNlbGYuJGVsZW0uZGF0YSgpLCBvcHRpb25zKTtcblx0XHRcdHNlbGYueGhyID0gbnVsbDtcblxuXHRcdFx0Ly8gc2V0IHVwIHRoZSBzY29wZVxuXHRcdFx0c2VsZi5zY29wZSA9IHtcblx0XHRcdFx0aXNfb3BlbjogZmFsc2UsXG5cdFx0XHRcdGlkOiAnbW9kYWFsXycgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyKSxcblx0XHRcdFx0c291cmNlOiBzZWxmLm9wdGlvbnMuY29udGVudF9zb3VyY2UgPyBzZWxmLm9wdGlvbnMuY29udGVudF9zb3VyY2UgOiBzZWxmLiRlbGVtLmF0dHIoJ2hyZWYnKVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gYWRkIHNjb3BlIGF0dHJpYnV0ZSB0byB0cmlnZ2VyIGVsZW1lbnRcblx0XHRcdHNlbGYuJGVsZW0uYXR0cignZGF0YS1tb2RhYWwtc2NvcGUnLCBzZWxmLnNjb3BlLmlkKTtcblxuXHRcdFx0Ly8gcHJpdmF0ZSBvcHRpb25zXG5cdFx0XHRzZWxmLnByaXZhdGVfb3B0aW9ucyA9IHtcblx0XHRcdFx0YWN0aXZlX2NsYXNzOiAnaXNfYWN0aXZlJ1xuXHRcdFx0fTtcblxuXHRcdFx0c2VsZi5sYXN0Rm9jdXMgPSBudWxsO1xuXG5cdFx0XHQvLyBpZiBpc19sb2NrZWRcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuaXNfbG9ja2VkIHx8IHNlbGYub3B0aW9ucy50eXBlID09ICdjb25maXJtJyB8fCBzZWxmLm9wdGlvbnMuaGlkZV9jbG9zZSkge1xuXHRcdFx0XHRzZWxmLnNjb3BlLmNsb3NlX2J0biA9ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5zY29wZS5jbG9zZV9idG4gPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJtb2RhYWwtY2xvc2VcIiBpZD1cIm1vZGFhbC1jbG9zZVwiIGFyaWEtbGFiZWw9XCInICsgc2VsZi5vcHRpb25zLmNsb3NlX2FyaWFfbGFiZWwgKyAnXCI+PHNwYW4+JyArIHNlbGYub3B0aW9ucy5jbG9zZV90ZXh0ICsgJzwvc3Bhbj48L2J1dHRvbj4nO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZXNldCBhbmltYXRpb25fc3BlZWRcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYW5pbWF0aW9uID09PSAnbm9uZScpIHtcblx0XHRcdFx0c2VsZi5vcHRpb25zLmFuaW1hdGlvbl9zcGVlZCA9IDA7XG5cdFx0XHRcdHNlbGYub3B0aW9ucy5hZnRlcl9jYWxsYmFja19kZWxheSA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9uIGNsaWNrIHRvIG9wZW4gbW9kYWxcblx0XHRcdCQoZWxlbSkub24oJ2NsaWNrLk1vZGFhbCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWFsKHNlbGYsIGUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIERlZmluZSBuZXh0L3ByZXYgYnV0dG9uc1xuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5vdXRlcl9jb250cm9scyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgbW9kX2NsYXNzID0gJ291dGVyJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBtb2RfY2xhc3MgPSAnaW5uZXInO1xuXHRcdFx0fVxuXHRcdFx0c2VsZi5zY29wZS5wcmV2X2J0biA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm1vZGFhbC1nYWxsZXJ5LWNvbnRyb2wgbW9kYWFsLWdhbGxlcnktcHJldiBtb2RhYWwtZ2FsbGVyeS1wcmV2LScgKyBtb2RfY2xhc3MgKyAnXCIgaWQ9XCJtb2RhYWwtZ2FsbGVyeS1wcmV2XCIgYXJpYS1sYWJlbD1cIlByZXZpb3VzIGltYWdlICh1c2UgbGVmdCBhcnJvdyB0byBjaGFuZ2UpXCI+PHNwYW4+UHJldmlvdXMgSW1hZ2U8L3NwYW4+PC9idXR0b24+Jztcblx0XHRcdHNlbGYuc2NvcGUubmV4dF9idG4gPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJtb2RhYWwtZ2FsbGVyeS1jb250cm9sIG1vZGFhbC1nYWxsZXJ5LW5leHQgbW9kYWFsLWdhbGxlcnktbmV4dC0nICsgbW9kX2NsYXNzICsgJ1wiIGlkPVwibW9kYWFsLWdhbGxlcnktbmV4dFwiIGFyaWEtbGFiZWw9XCJOZXh0IGltYWdlICh1c2UgcmlnaHQgYXJyb3cgdG8gY2hhbmdlKVwiPjxzcGFuPk5leHQgSW1hZ2U8L3NwYW4+PC9idXR0b24+JztcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIHN0YXJ0X29wZW5cblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuc3RhcnRfb3BlbiA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRzZWxmLmNyZWF0ZV9tb2RhYWwoc2VsZik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEluaXRpYWwgY3JlYXRlIHRvIGRldGVybWluZSB3aGljaCBjb250ZW50IHR5cGUgaXQgcmVxdWlyZXNcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Y3JlYXRlX21vZGFhbDogZnVuY3Rpb24gY3JlYXRlX21vZGFhbChzZWxmLCBlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgc291cmNlO1xuXG5cdFx0XHQvLyBTYXZlIGxhc3QgYWN0aXZlIHN0YXRlIGJlZm9yZSBtb2RhbFxuXHRcdFx0c2VsZi5sYXN0Rm9jdXMgPSBzZWxmLiRlbGVtO1xuXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLnNob3VsZF9vcGVuID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZi5vcHRpb25zLnNob3VsZF9vcGVuID09PSAnZnVuY3Rpb24nICYmIHNlbGYub3B0aW9ucy5zaG91bGRfb3BlbigpID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIENCOiBiZWZvcmVfb3BlblxuXHRcdFx0c2VsZi5vcHRpb25zLmJlZm9yZV9vcGVuLmNhbGwoc2VsZiwgZSk7XG5cblx0XHRcdHN3aXRjaCAoc2VsZi5vcHRpb25zLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnaW5saW5lJzpcblx0XHRcdFx0XHRzZWxmLmNyZWF0ZV9iYXNpYygpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2FqYXgnOlxuXHRcdFx0XHRcdHNvdXJjZSA9IHNlbGYub3B0aW9ucy5zb3VyY2Uoc2VsZi4kZWxlbSwgc2VsZi5zY29wZS5zb3VyY2UpO1xuXHRcdFx0XHRcdHNlbGYuZmV0Y2hfYWpheChzb3VyY2UpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2NvbmZpcm0nOlxuXHRcdFx0XHRcdHNlbGYub3B0aW9ucy5pc19sb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHNlbGYuY3JlYXRlX2NvbmZpcm0oKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRcdFx0c2VsZi5jcmVhdGVfaW1hZ2UoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdpZnJhbWUnOlxuXHRcdFx0XHRcdHNvdXJjZSA9IHNlbGYub3B0aW9ucy5zb3VyY2Uoc2VsZi4kZWxlbSwgc2VsZi5zY29wZS5zb3VyY2UpO1xuXHRcdFx0XHRcdHNlbGYuY3JlYXRlX2lmcmFtZShzb3VyY2UpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ3ZpZGVvJzpcblx0XHRcdFx0XHRzZWxmLmNyZWF0ZV92aWRlbyhzZWxmLnNjb3BlLnNvdXJjZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnaW5zdGFncmFtJzpcblx0XHRcdFx0XHRzZWxmLmNyZWF0ZV9pbnN0YWdyYW0oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gY2FsbCBldmVudHMgdG8gYmUgd2F0Y2hlZCAoY2xpY2ssIHRhYiwga2V5dXAsIGtleWRvd24gZXRjLilcblx0XHRcdHNlbGYud2F0Y2hfZXZlbnRzKCk7XG5cdFx0fSxcblxuXHRcdC8vIFdhdGNoaW5nIE1vZGFsXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdHdhdGNoX2V2ZW50czogZnVuY3Rpb24gd2F0Y2hfZXZlbnRzKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRzZWxmLmRvbS5vZmYoJ2NsaWNrLk1vZGFhbCBrZXl1cC5Nb2RhYWwga2V5ZG93bi5Nb2RhYWwnKTtcblxuXHRcdFx0Ly8gQm9keSBrZXlkb3duXG5cdFx0XHRzZWxmLmRvbS5vbigna2V5ZG93bi5Nb2RhYWwnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR2YXIga2V5ID0gZS5rZXlDb2RlO1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG5cblx0XHRcdFx0Ly8gbG9vayBmb3IgdGFiIGNoYW5nZSBhbmQgcmVzZXQgZm9jdXMgdG8gbW9kYWwgd2luZG93XG5cdFx0XHRcdC8vIGRvbmUgaW4ga2V5ZG93biBzbyB0aGUgY2hlY2sgZmlyZXMgcmVwZWF0ZWRseSB3aGVuIHlvdSBob2xkIHRoZSB0YWIga2V5IGRvd25cblx0XHRcdFx0aWYgKGtleSA9PSA5ICYmIHNlbGYuc2NvcGUuaXNfb3Blbikge1xuXHRcdFx0XHRcdGlmICghJC5jb250YWlucyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxmLnNjb3BlLmlkKSwgdGFyZ2V0KSkge1xuXHRcdFx0XHRcdFx0JCgnIycgKyBzZWxmLnNjb3BlLmlkKS5maW5kKCcqW3RhYmluZGV4PVwiMFwiXScpLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQm9keSBrZXl1cFxuXHRcdFx0c2VsZi5kb20ub24oJ2tleXVwLk1vZGFhbCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdHZhciBrZXkgPSBlLmtleUNvZGU7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBlLnRhcmdldDtcblxuXHRcdFx0XHRpZiAoZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT0gOSAmJiBzZWxmLnNjb3BlLmlzX29wZW4pIHtcblx0XHRcdFx0XHQvLyBXYXRjaCBmb3Igc2hpZnQgKyB0YWIga2V5IHByZXNzLiBpZiBvcGVuIHNoaWZ0IGZvY3VzIHRvIGNsb3NlIGJ1dHRvbi5cblx0XHRcdFx0XHRpZiAoISQuY29udGFpbnMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi5zY29wZS5pZCksIHRhcmdldCkpIHtcblx0XHRcdFx0XHRcdCQoJyMnICsgc2VsZi5zY29wZS5pZCkuZmluZCgnLm1vZGFhbC1jbG9zZScpLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaXNfbG9ja2VkKSB7XG5cdFx0XHRcdFx0Ly8gT24gZXNjYXBlIGtleSBwcmVzcyBjbG9zZSBtb2RhbFxuXHRcdFx0XHRcdGlmIChrZXkgPT0gMjcgJiYgc2VsZi5zY29wZS5pc19vcGVuKSB7XG5cdFx0XHRcdFx0XHRpZiAoJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcygnaW5wdXQ6bm90KDpjaGVja2JveCk6bm90KDpyYWRpbyknKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHNlbGYubW9kYWFsX2Nsb3NlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaXMgZ2FsbGVyeSBvcGVuIGFuZCBpbWFnZXMgbGVuZ3RoIGlzID4gMVxuXHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLnR5cGUgPT0gJ2ltYWdlJykge1xuXHRcdFx0XHRcdC8vIGFycm93IGxlZnQgZm9yIGJhY2tcblx0XHRcdFx0XHRpZiAoa2V5ID09IDM3ICYmIHNlbGYuc2NvcGUuaXNfb3BlbiAmJiAhJCgnIycgKyBzZWxmLnNjb3BlLmlkICsgJyAubW9kYWFsLWdhbGxlcnktcHJldicpLmhhc0NsYXNzKCdpc19oaWRkZW4nKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5nYWxsZXJ5X3VwZGF0ZSgncHJldicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBhcnJvdyByaWdodCBmb3IgbmV4dFxuXHRcdFx0XHRcdGlmIChrZXkgPT0gMzkgJiYgc2VsZi5zY29wZS5pc19vcGVuICYmICEkKCcjJyArIHNlbGYuc2NvcGUuaWQgKyAnIC5tb2RhYWwtZ2FsbGVyeS1uZXh0JykuaGFzQ2xhc3MoJ2lzX2hpZGRlbicpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmdhbGxlcnlfdXBkYXRlKCduZXh0Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEJvZHkgY2xpY2svdG91Y2hcblx0XHRcdHNlbGYuZG9tLm9uKCdjbGljay5Nb2RhYWwnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR2YXIgdHJpZ2dlciA9ICQoZS50YXJnZXQpO1xuXG5cdFx0XHRcdC8vIEdlbmVyYWwgQ29udHJvbHM6IElmIGl0J3Mgbm90IGxvY2tlZCBhbGxvdyBncmVlZHkgY2xvc2Vcblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaXNfbG9ja2VkKSB7XG5cdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5vdmVybGF5X2Nsb3NlICYmIHRyaWdnZXIuaXMoJy5tb2RhYWwtaW5uZXItd3JhcHBlcicpIHx8IHRyaWdnZXIuaXMoJy5tb2RhYWwtY2xvc2UnKSB8fCB0cmlnZ2VyLmNsb3Nlc3QoJy5tb2RhYWwtY2xvc2UnKS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHNlbGYubW9kYWFsX2Nsb3NlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9Db25maXJtIENvbnRyb2xzXG5cdFx0XHRcdGlmICh0cmlnZ2VyLmlzKCcubW9kYWFsLWNvbmZpcm0tYnRuJykpIHtcblx0XHRcdFx0XHQvLyBpZiAnT0snIGJ1dHRvbiBpcyBjbGlja2VkLCBydW4gY29uZmlybV9jYWxsYmFjaygpXG5cdFx0XHRcdFx0aWYgKHRyaWdnZXIuaXMoJy5tb2RhYWwtb2snKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5vcHRpb25zLmNvbmZpcm1fY2FsbGJhY2suY2FsbChzZWxmLCBzZWxmLmxhc3RGb2N1cyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHRyaWdnZXIuaXMoJy5tb2RhYWwtY2FuY2VsJykpIHtcblx0XHRcdFx0XHRcdHNlbGYub3B0aW9ucy5jb25maXJtX2NhbmNlbF9jYWxsYmFjay5jYWxsKHNlbGYsIHNlbGYubGFzdEZvY3VzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi5tb2RhYWxfY2xvc2UoKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHYWxsZXJ5IENvbnRyb2xzXG5cdFx0XHRcdGlmICh0cmlnZ2VyLmlzKCcubW9kYWFsLWdhbGxlcnktY29udHJvbCcpKSB7XG5cdFx0XHRcdFx0Ly8gaXQgbm90IGFjdGl2ZSwgZG9uJ3QgZG8gbnV0aGluIVxuXHRcdFx0XHRcdGlmICh0cmlnZ2VyLmhhc0NsYXNzKCdpc19oaWRkZW4nKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIHRyaWdnZXIgcHJldmlvdXNcblx0XHRcdFx0XHRpZiAodHJpZ2dlci5pcygnLm1vZGFhbC1nYWxsZXJ5LXByZXYnKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5nYWxsZXJ5X3VwZGF0ZSgncHJldicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB0cmlnZ2VyIG5leHRcblx0XHRcdFx0XHRpZiAodHJpZ2dlci5pcygnLm1vZGFhbC1nYWxsZXJ5LW5leHQnKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5nYWxsZXJ5X3VwZGF0ZSgnbmV4dCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHQvLyBBcHBlbmQgbWFya3VwIGludG8gRE9NXG5cdFx0YnVpbGRfbW9kYWw6IGZ1bmN0aW9uIGJ1aWxkX21vZGFsKGNvbnRlbnQpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly8gaWYgaXMgaW5zdGFncmFtXG5cdFx0XHR2YXIgaWdDbGFzcyA9ICcnO1xuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy50eXBlID09ICdpbnN0YWdyYW0nKSB7XG5cdFx0XHRcdGlnQ2xhc3MgPSAnIG1vZGFhbC1pbnN0YWdyYW0nO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgd3JhcF9jbGFzcyA9IHNlbGYub3B0aW9ucy50eXBlID09ICd2aWRlbycgPyAnbW9kYWFsLXZpZGVvLXdyYXAnIDogJ21vZGFhbC1jb250ZW50JztcblxuXHRcdFx0LypcbiAgIFx0bW9kYWFsLXN0YXJ0X25vbmUgOiBmdWxseSBoaWRkZW4gdmlhIGRpc3BsYXk6bm9uZTtcbiAgIFx0bW9kYWFsLXN0YXJ0X2ZhZGUgOiBoaWRkZW4gdmlhIG9wYWNpdHk6MFxuICAgXHRtb2RhYWwtc3RhcnRfc2xpZGVkb3duIDogLi4uXG4gICBcdCovXG5cdFx0XHR2YXIgYW5pbWF0aW9uX2NsYXNzO1xuXHRcdFx0c3dpdGNoIChzZWxmLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG5cdFx0XHRcdGNhc2UgJ2ZhZGUnOlxuXHRcdFx0XHRcdGFuaW1hdGlvbl9jbGFzcyA9ICcgbW9kYWFsLXN0YXJ0X2ZhZGUnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdzbGlkZS1kb3duJzpcblx0XHRcdFx0XHRhbmltYXRpb25fY2xhc3MgPSAnIG1vZGFhbC1zdGFydF9zbGlkZWRvd24nO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGFuaW1hdGlvbl9jbGFzcyA9ICcgbW9kYWFsLXN0YXJ0X25vbmUnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBmdWxsc2NyZWVuIGNoZWNrXG5cdFx0XHR2YXIgZnVsbHNjcmVlbl9jbGFzcyA9ICcnO1xuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5mdWxsc2NyZWVuKSB7XG5cdFx0XHRcdGZ1bGxzY3JlZW5fY2xhc3MgPSAnIG1vZGFhbC1mdWxsc2NyZWVuJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gY3VzdG9tIGNsYXNzIGNoZWNrXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLmN1c3RvbV9jbGFzcyAhPT0gJycgfHwgdHlwZW9mIHNlbGYub3B0aW9ucy5jdXN0b21fY2xhc3MgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHNlbGYub3B0aW9ucy5jdXN0b21fY2xhc3MgPSAnICcgKyBzZWxmLm9wdGlvbnMuY3VzdG9tX2NsYXNzO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB3aWR0aCBhbmQgaGVpZ2h0cyBleGlzdHMgYW5kIGlzIHR5cGVvZiBudW1iZXJcblx0XHRcdHZhciBkaW1lbnNpb25zU3R5bGUgPSAnJztcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMud2lkdGggJiYgc2VsZi5vcHRpb25zLmhlaWdodCAmJiB0eXBlb2Ygc2VsZi5vcHRpb25zLndpZHRoID09ICdudW1iZXInICYmIHR5cGVvZiBzZWxmLm9wdGlvbnMuaGVpZ2h0ID09ICdudW1iZXInKSB7XG5cdFx0XHRcdC8vIGlmIHdpZHRoIGFuZCBoZWlnaHQgZXhpc3QsIGFuZCB0aGV5IGFyZSBib3RoIG51bWJlcnNcblx0XHRcdFx0ZGltZW5zaW9uc1N0eWxlID0gJyBzdHlsZT1cIm1heC13aWR0aDonICsgc2VsZi5vcHRpb25zLndpZHRoICsgJ3B4O2hlaWdodDonICsgc2VsZi5vcHRpb25zLmhlaWdodCArICdweDtvdmVyZmxvdzphdXRvO1wiJztcblx0XHRcdH0gZWxzZSBpZiAoc2VsZi5vcHRpb25zLndpZHRoICYmIHR5cGVvZiBzZWxmLm9wdGlvbnMud2lkdGggPT0gJ251bWJlcicpIHtcblx0XHRcdFx0Ly8gaWYgb25seSB3aWR0aFxuXHRcdFx0XHRkaW1lbnNpb25zU3R5bGUgPSAnIHN0eWxlPVwibWF4LXdpZHRoOicgKyBzZWxmLm9wdGlvbnMud2lkdGggKyAncHg7XCInO1xuXHRcdFx0fSBlbHNlIGlmIChzZWxmLm9wdGlvbnMuaGVpZ2h0ICYmIHR5cGVvZiBzZWxmLm9wdGlvbnMuaGVpZ2h0ID09ICdudW1iZXInKSB7XG5cdFx0XHRcdC8vIGlmIG9ubHkgaGVpZ2h0XG5cdFx0XHRcdGRpbWVuc2lvbnNTdHlsZSA9ICcgc3R5bGU9XCJoZWlnaHQ6JyArIHNlbGYub3B0aW9ucy5oZWlnaHQgKyAncHg7b3ZlcmZsb3c6YXV0bztcIic7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc2V0IGRpbWVuc2lvbnMgc3R5bGUgKHdpZHRoIGFuZCBoZWlnaHQpIGZvciBjZXJ0YWluIHR5cGVzXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLnR5cGUgPT0gJ2ltYWdlJyB8fCBzZWxmLm9wdGlvbnMudHlwZSA9PSAndmlkZW8nIHx8IHNlbGYub3B0aW9ucy50eXBlID09ICdpbnN0YWdyYW0nIHx8IHNlbGYub3B0aW9ucy5mdWxsc2NyZWVuKSB7XG5cdFx0XHRcdGRpbWVuc2lvbnNTdHlsZSA9ICcnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBpcyB0b3VjaFxuXHRcdFx0Ly8gdGhpcyBpcyBhIGJ1ZyBmaXggZm9yIGlPUyB0byBhbGxvdyByZWd1bGFyIGNsaWNrIGV2ZW50cyBvbiBkaXYgZWxlbWVudHMuXG5cdFx0XHR2YXIgdG91Y2hUcmlnZ2VyID0gJyc7XG5cdFx0XHRpZiAoc2VsZi5pc190b3VjaCgpKSB7XG5cdFx0XHRcdHRvdWNoVHJpZ2dlciA9ICcgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtcIic7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBidWlsZF9tYXJrdXAgPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC13cmFwcGVyIG1vZGFhbC0nICsgc2VsZi5vcHRpb25zLnR5cGUgKyBhbmltYXRpb25fY2xhc3MgKyBpZ0NsYXNzICsgZnVsbHNjcmVlbl9jbGFzcyArIHNlbGYub3B0aW9ucy5jdXN0b21fY2xhc3MgKyAnXCIgaWQ9XCInICsgc2VsZi5zY29wZS5pZCArICdcIj48ZGl2IGNsYXNzPVwibW9kYWFsLW91dGVyLXdyYXBwZXJcIj48ZGl2IGNsYXNzPVwibW9kYWFsLWlubmVyLXdyYXBwZXJcIicgKyB0b3VjaFRyaWdnZXIgKyAnPic7XG5cblx0XHRcdC8vIGhpZGUgaWYgdmlkZW9cblx0XHRcdGlmIChzZWxmLm9wdGlvbnMudHlwZSAhPSAndmlkZW8nKSB7XG5cdFx0XHRcdGJ1aWxkX21hcmt1cCArPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC1jb250YWluZXJcIicgKyBkaW1lbnNpb25zU3R5bGUgKyAnPic7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFkZCB0aGUgZ3V0cyBvZiB0aGUgY29udGVudFxuXHRcdFx0YnVpbGRfbWFya3VwICs9ICc8ZGl2IGNsYXNzPVwiJyArIHdyYXBfY2xhc3MgKyAnIG1vZGFhbC1mb2N1c1wiIGFyaWEtaGlkZGVuPVwiZmFsc2VcIiBhcmlhLWxhYmVsPVwiJyArIHNlbGYub3B0aW9ucy5hY2Nlc3NpYmxlX3RpdGxlICsgJyAtICcgKyBzZWxmLm9wdGlvbnMuY2xvc2VfYXJpYV9sYWJlbCArICdcIiByb2xlPVwiZGlhbG9nXCI+JztcblxuXHRcdFx0Ly8gSWYgaXQncyBpbmxpbmUgdHlwZSwgd2Ugd2FudCB0byBjbG9uZSBjb250ZW50IGluc3RlYWQgb2YgZHJvcHBpbmcgaXQgc3RyYWlnaHQgaW5cblx0XHRcdGlmIChzZWxmLm9wdGlvbnMudHlwZSA9PSAnaW5saW5lJykge1xuXHRcdFx0XHRidWlsZF9tYXJrdXAgKz0gJzxkaXYgY2xhc3M9XCJtb2RhYWwtY29udGVudC1jb250YWluZXJcIiByb2xlPVwiZG9jdW1lbnRcIj48L2Rpdj4nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRHJvcCBpbiB0aGUgY29udGVudCBpZiBpdCdzIG5vdCBpbmxpbmVcblx0XHRcdFx0YnVpbGRfbWFya3VwICs9IGNvbnRlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNsb3NlIHdyYXBfY2xhc3Ncblx0XHRcdGJ1aWxkX21hcmt1cCArPSAnPC9kaXY+JyArIHNlbGYuc2NvcGUuY2xvc2VfYnRuO1xuXG5cdFx0XHQvLyBoaWRlIGlmIHZpZGVvXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLnR5cGUgIT0gJ3ZpZGVvJykge1xuXHRcdFx0XHRidWlsZF9tYXJrdXAgKz0gJzwvZGl2Pic7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNsb3NlIG9mZiBtb2RhYWwtaW5uZXItd3JhcHBlclxuXHRcdFx0YnVpbGRfbWFya3VwICs9ICc8L2Rpdj4nO1xuXG5cdFx0XHQvLyBJZiB0eXBlIGlzIGltYWdlIEFORCBvdXRlcl9jb250cm9scyBpcyB0cnVlOiBhZGQgZ2FsbGVyeSBuZXh0IGFuZCBwcmV2aW91cyBjb250cm9scy5cblx0XHRcdGlmIChzZWxmLm9wdGlvbnMudHlwZSA9PSAnaW1hZ2UnICYmIHNlbGYub3B0aW9ucy5vdXRlcl9jb250cm9scyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRidWlsZF9tYXJrdXAgKz0gc2VsZi5zY29wZS5wcmV2X2J0biArIHNlbGYuc2NvcGUubmV4dF9idG47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNsb3NlIG9mZiBtb2RhYWwtd3JhcHBlclxuXHRcdFx0YnVpbGRfbWFya3VwICs9ICc8L2Rpdj48L2Rpdj4nO1xuXG5cdFx0XHQvLyBhcHBlbmQgYWpheCBtb2RhbCBtYXJrdXAgdG8gZG9tXG5cdFx0XHRpZiAoJCgnIycgKyBzZWxmLnNjb3BlLmlkICsgJ19vdmVybGF5JykubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRzZWxmLmRvbS5hcHBlbmQoYnVpbGRfbWFya3VwKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgaW5saW5lLCBjbG9uZSBjb250ZW50IGludG8gc3BhY2Vcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMudHlwZSA9PSAnaW5saW5lJykge1xuXHRcdFx0XHRjb250ZW50LmFwcGVuZFRvKCcjJyArIHNlbGYuc2NvcGUuaWQgKyAnIC5tb2RhYWwtY29udGVudC1jb250YWluZXInKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJpZ2dlciBvdmVybGF5IHNob3cgKHdoaWNoIHRyaWdnZXJzIG1vZGFsIHNob3cpXG5cdFx0XHRzZWxmLm1vZGFhbF9vdmVybGF5KCdzaG93Jyk7XG5cdFx0fSxcblxuXHRcdC8vIENyZWF0ZSBCYXNpYyBJbmxpbmUgTW9kYWxcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Y3JlYXRlX2Jhc2ljOiBmdW5jdGlvbiBjcmVhdGVfYmFzaWMoKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgdGFyZ2V0ID0gJChzZWxmLnNjb3BlLnNvdXJjZSk7XG5cdFx0XHR2YXIgY29udGVudCA9ICcnO1xuXG5cdFx0XHRpZiAodGFyZ2V0Lmxlbmd0aCkge1xuXHRcdFx0XHRjb250ZW50ID0gdGFyZ2V0LmNvbnRlbnRzKCkuZGV0YWNoKCk7XG5cdFx0XHRcdHRhcmdldC5lbXB0eSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGVudCA9ICdDb250ZW50IGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBjaGVjayB0aGUgc291cmNlIGFuZCB0cnkgYWdhaW4uJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gbm93IHB1c2ggY29udGVudCBpbnRvIG1hcmt1cFxuXHRcdFx0c2VsZi5idWlsZF9tb2RhbChjb250ZW50KTtcblx0XHR9LFxuXG5cdFx0Ly8gQ3JlYXRlIEluc3RhZ3JhbSBNb2RhbFxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRjcmVhdGVfaW5zdGFncmFtOiBmdW5jdGlvbiBjcmVhdGVfaW5zdGFncmFtKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGlkID0gc2VsZi5vcHRpb25zLmluc3RhZ3JhbV9pZDtcblx0XHRcdHZhciBjb250ZW50ID0gJyc7XG5cblx0XHRcdHZhciBlcnJvcl9tc2cgPSAnSW5zdGFncmFtIHBob3RvIGNvdWxkblxcJ3QgYmUgbG9hZGVkLCBwbGVhc2UgY2hlY2sgdGhlIGVtYmVkIGNvZGUgYW5kIHRyeSBhZ2Fpbi4nO1xuXG5cdFx0XHRzZWxmLmJ1aWxkX21vZGFsKCc8ZGl2IGNsYXNzPVwibW9kYWFsLWNvbnRlbnQtY29udGFpbmVyJyArIChzZWxmLm9wdGlvbnMubG9hZGluZ19jbGFzcyAhPSAnJyA/ICcgJyArIHNlbGYub3B0aW9ucy5sb2FkaW5nX2NsYXNzIDogJycpICsgJ1wiPicgKyBzZWxmLm9wdGlvbnMubG9hZGluZ19jb250ZW50ICsgJzwvZGl2PicpO1xuXG5cdFx0XHQvLyBJRCBleGlzdHMsIGlzIG5vdCBlbXB0eSBudWxsIG9yIHVuZGVmaW5lZC5cblx0XHRcdGlmIChpZCAhPSAnJyAmJiBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIHNldCB1cCBvZW1iZWQgdXJsXG5cdFx0XHRcdHZhciBpZ191cmwgPSAnaHR0cHM6Ly9hcGkuaW5zdGFncmFtLmNvbS9vZW1iZWQ/dXJsPWh0dHA6Ly9pbnN0YWdyLmFtL3AvJyArIGlkICsgJy8nO1xuXG5cdFx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdFx0dXJsOiBpZ191cmwsXG5cdFx0XHRcdFx0ZGF0YVR5cGU6IFwianNvbnBcIixcblx0XHRcdFx0XHRjYWNoZTogZmFsc2UsXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG5cblx0XHRcdFx0XHRcdC8vIENyZWF0ZSB0ZW1wIGRvbSBlbGVtZW50IGZyb20gd2hpY2ggd2UnbGwgY2xvbmUgaW50byB0aGUgbW9kYWFsIGluc3RhbmNlLiBUaGlzIGlzIHJlcXVpcmVkIHRvIGJ5cGFzcyB0aGUgdW51c3VhbCBzbWFsbCB0aHVtYiBpc3N1ZSBpbnN0YWdyYW0gb2VtYmVkIHdhcyBzZXJ2aW5nIHVwXG5cdFx0XHRcdFx0XHRzZWxmLmRvbS5hcHBlbmQoJzxkaXYgaWQ9XCJ0ZW1wLWlnXCIgc3R5bGU9XCJ3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtcIj4nICsgZGF0YS5odG1sICsgJzwvZGl2PicpO1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiBpdCBoYXMgbG9hZGVkIG9uY2UgYmVmb3JlLlxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyB0byBzdG9wIHRoZSBFbWJlZHMucHJvY2VzcyBmcm9tIHRocm93aW5nIGFuZCBlcnJvciB0aGUgZmlyc3QgdGltZSBpdCdzIGJlaW5nIGxvYWRlZC5cblx0XHRcdFx0XHRcdC8vIHByaXZhdGVfb3B0aW9ucyBhcmUgaW5kaXZpZHVhbCB0byBhIG1vZGFhbF9zY29wZSBzbyB3aWxsIG5vdCB3b3JrIGFjcm9zcyBtdWx0aXBsZSBzY29wZXMgd2hlbiBjaGVja2luZyBpZiB0cnVlLCBvbmx5IHRoYXQgb25lIGl0ZW0uXG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5kb20uYXR0cignZGF0YS1pZ2xvYWRlZCcpKSB7XG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5pbnN0Z3JtLkVtYmVkcy5wcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBmaXJzdCB0aW1lIGl0J3MgbG9hZGVkLCBsZXQncyBzZXQgYSBuZXcgcHJpdmF0ZSBvcHRpb24gdG8gdXNlIG5leHQgdGltZSBpdCdzIG9wZW5lZC5cblx0XHRcdFx0XHRcdFx0c2VsZi5kb20uYXR0cignZGF0YS1pZ2xvYWRlZCcsICd0cnVlJyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIG5vdyBzZXQgbG9jYXRpb24gZm9yIG5ldyBjb250ZW50XG5cdFx0XHRcdFx0XHQvLyB0aW1lb3V0IGlzIHJlcXVpcmVkIGFzIHdlbGwgdG8gYnlwYXNzIHRoZSB1bnVzdWFsIHNtYWxsIHRodW1iIGlzc3VlIGluc3RhZ3JhbSBvZW1iZWQgd2FzIHNlcnZpbmcgdXBcblx0XHRcdFx0XHRcdHZhciB0YXJnZXQgPSAnIycgKyBzZWxmLnNjb3BlLmlkICsgJyAubW9kYWFsLWNvbnRlbnQtY29udGFpbmVyJztcblx0XHRcdFx0XHRcdGlmICgkKHRhcmdldCkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQkKCcjdGVtcC1pZycpLmNvbnRlbnRzKCkuY2xvbmUoKS5hcHBlbmRUbyh0YXJnZXQpO1xuXHRcdFx0XHRcdFx0XHRcdCQoJyN0ZW1wLWlnJykucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuXHRcdFx0XHRcdFx0Y29udGVudCA9IGVycm9yX21zZztcblxuXHRcdFx0XHRcdFx0Ly8gbm93IHNldCBsb2NhdGlvbiBmb3IgbmV3IGNvbnRlbnRcblx0XHRcdFx0XHRcdHZhciB0YXJnZXQgPSAkKCcjJyArIHNlbGYuc2NvcGUuaWQgKyAnIC5tb2RhYWwtY29udGVudC1jb250YWluZXInKTtcblx0XHRcdFx0XHRcdGlmICh0YXJnZXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmxvYWRpbmdfY2xhc3MpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hamF4X2Vycm9yX2NsYXNzKTtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0Lmh0bWwoY29udGVudCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnRlbnQgPSBlcnJvcl9tc2c7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0Ly8gRmV0Y2ggQWpheCBEYXRhXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdGZldGNoX2FqYXg6IGZ1bmN0aW9uIGZldGNoX2FqYXgodXJsKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgY29udGVudCA9ICcnO1xuXG5cdFx0XHQvLyBJZiBubyBhY2Nlc3NpYmxlIHRpdGxlLCBzZXQgaXQgdG8gJ0RpYWxvZyBXaW5kb3cnXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLmFjY2Vzc2libGVfdGl0bGUgPT0gbnVsbCkge1xuXHRcdFx0XHRzZWxmLm9wdGlvbnMuYWNjZXNzaWJsZV90aXRsZSA9ICdEaWFsb2cgV2luZG93Jztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHNlbGYueGhyICE9PSBudWxsKSB7XG5cdFx0XHRcdHNlbGYueGhyLmFib3J0KCk7XG5cdFx0XHRcdHNlbGYueGhyID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0c2VsZi5idWlsZF9tb2RhbCgnPGRpdiBjbGFzcz1cIm1vZGFhbC1jb250ZW50LWNvbnRhaW5lcicgKyAoc2VsZi5vcHRpb25zLmxvYWRpbmdfY2xhc3MgIT0gJycgPyAnICcgKyBzZWxmLm9wdGlvbnMubG9hZGluZ19jbGFzcyA6ICcnKSArICdcIj4nICsgc2VsZi5vcHRpb25zLmxvYWRpbmdfY29udGVudCArICc8L2Rpdj4nKTtcblxuXHRcdFx0c2VsZi54aHIgPSAkLmFqYXgodXJsLCB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuXHRcdFx0XHRcdC8vIGNvbnRlbnQgZmV0Y2ggaXMgc3VjY2Vzc2Z1bCBzbyBwdXNoIGl0IGludG8gbWFya3VwXG5cdFx0XHRcdFx0dmFyIHRhcmdldCA9ICQoJyMnICsgc2VsZi5zY29wZS5pZCkuZmluZCgnLm1vZGFhbC1jb250ZW50LWNvbnRhaW5lcicpO1xuXHRcdFx0XHRcdGlmICh0YXJnZXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dGFyZ2V0LnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5sb2FkaW5nX2NsYXNzKTtcblx0XHRcdFx0XHRcdHRhcmdldC5odG1sKGRhdGEpO1xuXG5cdFx0XHRcdFx0XHRzZWxmLm9wdGlvbnMuYWpheF9zdWNjZXNzLmNhbGwoc2VsZiwgdGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiBmdW5jdGlvbiBlcnJvcih4aHIpIHtcblx0XHRcdFx0XHQvLyBUaGVyZSB3ZXJlIHNvbWUgZXJyb3JzIHNvIHJldHVybiBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRcdFx0aWYgKHhoci5zdGF0dXNUZXh0ID09ICdhYm9ydCcpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgdGFyZ2V0ID0gJCgnIycgKyBzZWxmLnNjb3BlLmlkICsgJyAubW9kYWFsLWNvbnRlbnQtY29udGFpbmVyJyk7XG5cdFx0XHRcdFx0aWYgKHRhcmdldC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXQucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmxvYWRpbmdfY2xhc3MpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5hamF4X2Vycm9yX2NsYXNzKTtcblx0XHRcdFx0XHRcdHRhcmdldC5odG1sKCdDb250ZW50IGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBjaGVjayB0aGUgc291cmNlIGFuZCB0cnkgYWdhaW4uJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Ly8gQ3JlYXRlIENvbmZpcm0gTW9kYWxcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Y3JlYXRlX2NvbmZpcm06IGZ1bmN0aW9uIGNyZWF0ZV9jb25maXJtKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNvbnRlbnQ7XG5cblx0XHRcdGNvbnRlbnQgPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC1jb250ZW50LWNvbnRhaW5lclwiPicgKyAnPGgxIGlkPVwibW9kYWFsLXRpdGxlXCI+JyArIHNlbGYub3B0aW9ucy5jb25maXJtX3RpdGxlICsgJzwvaDE+JyArICc8ZGl2IGNsYXNzPVwibW9kYWFsLWNvbmZpcm0tY29udGVudFwiPicgKyBzZWxmLm9wdGlvbnMuY29uZmlybV9jb250ZW50ICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cIm1vZGFhbC1jb25maXJtLXdyYXBcIj4nICsgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibW9kYWFsLWNvbmZpcm0tYnRuIG1vZGFhbC1va1wiIGFyaWEtbGFiZWw9XCJDb25maXJtXCI+JyArIHNlbGYub3B0aW9ucy5jb25maXJtX2J1dHRvbl90ZXh0ICsgJzwvYnV0dG9uPicgKyAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJtb2RhYWwtY29uZmlybS1idG4gbW9kYWFsLWNhbmNlbFwiIGFyaWEtbGFiZWw9XCJDYW5jZWxcIj4nICsgc2VsZi5vcHRpb25zLmNvbmZpcm1fY2FuY2VsX2J1dHRvbl90ZXh0ICsgJzwvYnV0dG9uPicgKyAnPC9kaXY+JyArICc8L2Rpdj4nICsgJzwvZGl2Pic7XG5cblx0XHRcdC8vIG5vdyBwdXNoIGNvbnRlbnQgaW50byBtYXJrdXBcblx0XHRcdHNlbGYuYnVpbGRfbW9kYWwoY29udGVudCk7XG5cdFx0fSxcblxuXHRcdC8vIENyZWF0ZSBJbWFnZS9HYWxsZXJ5IE1vZGFsXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdGNyZWF0ZV9pbWFnZTogZnVuY3Rpb24gY3JlYXRlX2ltYWdlKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNvbnRlbnQ7XG5cblx0XHRcdHZhciBtb2RhYWxfaW1hZ2VfbWFya3VwID0gJyc7XG5cdFx0XHR2YXIgZ2FsbGVyeV90b3RhbDtcblxuXHRcdFx0Ly8gSWYgaGFzIGdyb3VwIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKHNlbGYuJGVsZW0uaXMoJ1tkYXRhLWdyb3VwXScpIHx8IHNlbGYuJGVsZW0uaXMoJ1tyZWxdJykpIHtcblxuXHRcdFx0XHQvLyBmaW5kIGdhbGxlcnkgZ3JvdXBzXG5cdFx0XHRcdHZhciB1c2VfZ3JvdXAgPSBzZWxmLiRlbGVtLmlzKCdbZGF0YS1ncm91cF0nKTtcblx0XHRcdFx0dmFyIGdhbGxlcnlfZ3JvdXAgPSB1c2VfZ3JvdXAgPyBzZWxmLiRlbGVtLmF0dHIoJ2RhdGEtZ3JvdXAnKSA6IHNlbGYuJGVsZW0uYXR0cigncmVsJyk7XG5cdFx0XHRcdHZhciBnYWxsZXJ5X2dyb3VwX2l0ZW1zID0gdXNlX2dyb3VwID8gJCgnW2RhdGEtZ3JvdXA9XCInICsgZ2FsbGVyeV9ncm91cCArICdcIl0nKSA6ICQoJ1tyZWw9XCInICsgZ2FsbGVyeV9ncm91cCArICdcIl0nKTtcblxuXHRcdFx0XHQvLyByZW1vdmUgYW55IHByZXZpb3VzIGFjdGl2ZSBhdHRyaWJ1dGUgdG8gYW55IGluIHRoZSBncm91cFxuXHRcdFx0XHRnYWxsZXJ5X2dyb3VwX2l0ZW1zLnJlbW92ZUF0dHIoJ2RhdGEtZ2FsbGVyeS1hY3RpdmUnLCAnaXNfYWN0aXZlJyk7XG5cdFx0XHRcdC8vIGFkZCBhY3RpdmUgYXR0cmlidXRlIHRvIHRoZSBpdGVtIGNsaWNrZWRcblx0XHRcdFx0c2VsZi4kZWxlbS5hdHRyKCdkYXRhLWdhbGxlcnktYWN0aXZlJywgJ2lzX2FjdGl2ZScpO1xuXG5cdFx0XHRcdC8vIGhvdyBtYW55IGluIHRoZSBncm91cGluZyBhcmUgdGhlcmUgKC0xIHRvIGNvbm5lY3Qgd2l0aCBlYWNoIGZ1bmN0aW9uIHN0YXJ0aW5nIHdpdGggMClcblx0XHRcdFx0Z2FsbGVyeV90b3RhbCA9IGdhbGxlcnlfZ3JvdXBfaXRlbXMubGVuZ3RoIC0gMTtcblxuXHRcdFx0XHQvLyBwcmVwYXJlIGFycmF5IGZvciBnYWxsZXJ5IGRhdGFcblx0XHRcdFx0dmFyIGdhbGxlcnkgPSBbXTtcblxuXHRcdFx0XHQvLyBzdGFydCBwcmVwYXJpbmcgbWFya3VwXG5cdFx0XHRcdG1vZGFhbF9pbWFnZV9tYXJrdXAgPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC1nYWxsZXJ5LWl0ZW0td3JhcFwiPic7XG5cblx0XHRcdFx0Ly8gbG9vcCBlYWNoIGdyb3VwaW5nIGl0ZW0gYW5kIHB1c2ggaXQgaW50byBvdXIgZ2FsbGVyeSBhcnJheVxuXHRcdFx0XHRnYWxsZXJ5X2dyb3VwX2l0ZW1zLmVhY2goZnVuY3Rpb24gKGksIGl0ZW0pIHtcblx0XHRcdFx0XHQvLyBzZXR1cCBkZWZhdWx0IGNvbnRlbnRcblx0XHRcdFx0XHR2YXIgaW1nX3NyYyA9ICcnO1xuXHRcdFx0XHRcdHZhciBpbWdfYWx0ID0gJyc7XG5cdFx0XHRcdFx0dmFyIGltZ19kZXNjcmlwdGlvbiA9ICcnO1xuXHRcdFx0XHRcdHZhciBpbWdfYWN0aXZlID0gZmFsc2U7XG5cdFx0XHRcdFx0dmFyIGltZ19zcmNfZXJyb3IgPSBmYWxzZTtcblxuXHRcdFx0XHRcdHZhciBkYXRhX21vZGFhbF9kZXNjID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWFsLWRlc2MnKTtcblx0XHRcdFx0XHR2YXIgZGF0YV9pdGVtX2FjdGl2ZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWdhbGxlcnktYWN0aXZlJyk7XG5cblx0XHRcdFx0XHQvLyBpZiBpdGVtIGhhcyBpbmxpbmUgY3VzdG9tIHNvdXJjZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiBocmVmLiBGYWxsIGJhY2sgdG8gaHJlZiBpZiBhdmFpbGFibGUuXG5cdFx0XHRcdFx0aWYgKCQoaXRlbSkuYXR0cignZGF0YS1tb2RhYWwtY29udGVudC1zb3VyY2UnKSkge1xuXHRcdFx0XHRcdFx0aW1nX3NyYyA9ICQoaXRlbSkuYXR0cignZGF0YS1tb2RhYWwtY29udGVudC1zb3VyY2UnKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCQoaXRlbSkuYXR0cignaHJlZicpKSB7XG5cdFx0XHRcdFx0XHRpbWdfc3JjID0gJChpdGVtKS5hdHRyKCdocmVmJyk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICgkKGl0ZW0pLmF0dHIoJ3NyYycpKSB7XG5cdFx0XHRcdFx0XHRpbWdfc3JjID0gJChpdGVtKS5hdHRyKCdzcmMnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aW1nX3NyYyA9ICd0cmlnZ2VyIHJlcXVpcmVzIGhyZWYgb3IgZGF0YS1tb2RhYWwtY29udGVudC1zb3VyY2UgYXR0cmlidXRlJztcblx0XHRcdFx0XHRcdGltZ19zcmNfZXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERvZXMgaXQgaGF2ZSBhIG1vZGFhbCBkZXNjcmlwdGlvblxuXHRcdFx0XHRcdGlmIChkYXRhX21vZGFhbF9kZXNjICE9ICcnICYmIGRhdGFfbW9kYWFsX2Rlc2MgIT09IG51bGwgJiYgZGF0YV9tb2RhYWxfZGVzYyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRpbWdfYWx0ID0gZGF0YV9tb2RhYWxfZGVzYztcblx0XHRcdFx0XHRcdGltZ19kZXNjcmlwdGlvbiA9ICc8ZGl2IGNsYXNzPVwibW9kYWFsLWdhbGxlcnktbGFiZWxcIj48c3BhbiBjbGFzcz1cIm1vZGFhbC1hY2Nlc3NpYmxlLWhpZGVcIj5JbWFnZSAnICsgKGkgKyAxKSArICcgLSA8L3NwYW4+JyArIGRhdGFfbW9kYWFsX2Rlc2MucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIikgKyAnPC9kaXY+Jztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aW1nX2Rlc2NyaXB0aW9uID0gJzxkaXYgY2xhc3M9XCJtb2RhYWwtZ2FsbGVyeS1sYWJlbFwiPjxzcGFuIGNsYXNzPVwibW9kYWFsLWFjY2Vzc2libGUtaGlkZVwiPkltYWdlICcgKyAoaSArIDEpICsgJzwvc3Bhbj48L2Rpdj4nO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGlzIGl0IHRoZSBhY3RpdmUgaXRlbVxuXHRcdFx0XHRcdGlmIChkYXRhX2l0ZW1fYWN0aXZlKSB7XG5cdFx0XHRcdFx0XHRpbWdfYWN0aXZlID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBzZXQgbmV3IG9iamVjdCBmb3IgdmFsdWVzIHdlIHdhbnRcblx0XHRcdFx0XHR2YXIgZ2FsbGVyeV9pdGVtID0ge1xuXHRcdFx0XHRcdFx0J3VybCc6IGltZ19zcmMsXG5cdFx0XHRcdFx0XHQnYWx0JzogaW1nX2FsdCxcblx0XHRcdFx0XHRcdCdyYXdkZXNjJzogZGF0YV9tb2RhYWxfZGVzYyxcblx0XHRcdFx0XHRcdCdkZXNjJzogaW1nX2Rlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdFx0J2FjdGl2ZSc6IGltZ19hY3RpdmUsXG5cdFx0XHRcdFx0XHQnc3JjX2Vycm9yJzogaW1nX3NyY19lcnJvclxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHQvLyBwdXNoIG9iamVjdCBpbnRvIGdhbGxlcnkgYXJyYXlcblx0XHRcdFx0XHRnYWxsZXJ5LnB1c2goZ2FsbGVyeV9pdGVtKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gbm93IGxvb3AgdGhyb3VnaCBhbGwgaXRlbXMgaW4gdGhlIGdhbGxlcnkgYW5kIGJ1aWxkIHVwIHRoZSBtYXJrdXBcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBnYWxsZXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Ly8gU2V0IGRlZmF1bHQgYWN0aXZlIGNsYXNzLCB0aGVuIGNoZWNrIGlmIGFycmF5IGl0ZW0gYWN0aXZlIGlzIHRydWUgYW5kIHVwZGF0ZSBzdHJpbmcgZm9yIGNsYXNzXG5cdFx0XHRcdFx0dmFyIGlzX2FjdGl2ZSA9ICcnO1xuXHRcdFx0XHRcdHZhciBhcmlhX2xhYmVsID0gZ2FsbGVyeVtpXS5yYXdkZXNjID8gJ0ltYWdlOiAnICsgZ2FsbGVyeVtpXS5yYXdkZXNjIDogJ0ltYWdlICcgKyBpICsgJyBubyBkZXNjcmlwdGlvbic7XG5cblx0XHRcdFx0XHRpZiAoZ2FsbGVyeVtpXS5hY3RpdmUpIHtcblx0XHRcdFx0XHRcdGlzX2FjdGl2ZSA9ICcgJyArIHNlbGYucHJpdmF0ZV9vcHRpb25zLmFjdGl2ZV9jbGFzcztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBpZiBnYWxsZXJ5IGl0ZW0gaGFzIHNvdXJjZSBlcnJvciwgb3V0cHV0IG1lc3NhZ2UgcmF0aGVyIHRoYW4gdW5kZWZpbmVkIGltYWdlXG5cdFx0XHRcdFx0dmFyIGltYWdlX291dHB1dCA9IGdhbGxlcnlbaV0uc3JjX2Vycm9yID8gZ2FsbGVyeVtpXS51cmwgOiAnPGltZyBzcmM9XCInICsgZ2FsbGVyeVtpXS51cmwgKyAnXCIgYWx0PVwiIFwiIHN0eWxlPVwid2lkdGg6MTAwJVwiPic7XG5cblx0XHRcdFx0XHQvLyBmb3IgZWFjaCBpdGVtIGJ1aWxkIHVwIHRoZSBtYXJrdXBcblx0XHRcdFx0XHRtb2RhYWxfaW1hZ2VfbWFya3VwICs9ICc8ZGl2IGNsYXNzPVwibW9kYWFsLWdhbGxlcnktaXRlbSBnYWxsZXJ5LWl0ZW0tJyArIGkgKyBpc19hY3RpdmUgKyAnXCIgYXJpYS1sYWJlbD1cIicgKyBhcmlhX2xhYmVsICsgJ1wiPicgKyBpbWFnZV9vdXRwdXQgKyBnYWxsZXJ5W2ldLmRlc2MgKyAnPC9kaXY+Jztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENsb3NlIG9mZiB0aGUgbWFya3VwIGZvciB0aGUgZ2FsbGVyeVxuXHRcdFx0XHRtb2RhYWxfaW1hZ2VfbWFya3VwICs9ICc8L2Rpdj4nO1xuXG5cdFx0XHRcdC8vIEFkZCBuZXh0IGFuZCBwcmV2aW91cyBidXR0b25zIGlmIG91dHNpZGVcblx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5vdXRlcl9jb250cm9scyAhPSB0cnVlKSB7XG5cdFx0XHRcdFx0bW9kYWFsX2ltYWdlX21hcmt1cCArPSBzZWxmLnNjb3BlLnByZXZfYnRuICsgc2VsZi5zY29wZS5uZXh0X2J0bjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVGhpcyBpcyBvbmx5IGEgc2luZ2xlIGdhbGxlcnkgaXRlbSBzbyBsZXQncyBncmFiIHRoZSBuZWNlc3NhcnkgdmFsdWVzXG5cblx0XHRcdFx0Ly8gZGVmaW5lIHRoZSBzb3VyY2UsIGNoZWNrIGlmIGNvbnRlbnRfc291cmNlIG9wdGlvbiBleGlzdHMsIGFuZCB1c2UgdGhhdCBvciBmYWxsIGJhY2sgdG8gaHJlZi5cblx0XHRcdFx0dmFyIHRoaXNfaW1nX3NyYztcblx0XHRcdFx0dmFyIGltZ19zcmNfZXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0aWYgKHNlbGYuc2NvcGUuc291cmNlKSB7XG5cdFx0XHRcdFx0dGhpc19pbWdfc3JjID0gc2VsZi5zY29wZS5zb3VyY2U7XG5cdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi4kZWxlbS5hdHRyKCdkYXRhLW1vZGFhbC1jb250ZW50LXNvdXJjZScpKSB7XG5cdFx0XHRcdFx0dGhpc19pbWdfc3JjID0gc2VsZi4kZWxlbS5hdHRyKCdkYXRhLW1vZGFhbC1jb250ZW50LXNvdXJjZScpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuJGVsZW0uYXR0cignaHJlZicpKSB7XG5cdFx0XHRcdFx0dGhpc19pbWdfc3JjID0gc2VsZi4kZWxlbS5hdHRyKCdocmVmJyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi4kZWxlbS5hdHRyKCdzcmMnKSkge1xuXHRcdFx0XHRcdHRoaXNfaW1nX3NyYyA9IHNlbGYuJGVsZW0uYXR0cignc3JjJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpc19pbWdfc3JjID0gJ3RyaWdnZXIgcmVxdWlyZXMgaHJlZiBvciBkYXRhLW1vZGFhbC1jb250ZW50LXNvdXJjZSBhdHRyaWJ1dGUnO1xuXHRcdFx0XHRcdGltZ19zcmNfZXJyb3IgPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHRoaXNfaW1nX2FsdF90eHQgPSAnJztcblx0XHRcdFx0dmFyIHRoaXNfaW1nX2FsdCA9ICcnO1xuXHRcdFx0XHR2YXIgYXJpYV9sYWJlbCA9ICcnO1xuXG5cdFx0XHRcdGlmIChzZWxmLiRlbGVtLmF0dHIoJ2RhdGEtbW9kYWFsLWRlc2MnKSkge1xuXHRcdFx0XHRcdGFyaWFfbGFiZWwgPSBzZWxmLiRlbGVtLmF0dHIoJ2RhdGEtbW9kYWFsLWRlc2MnKTtcblx0XHRcdFx0XHR0aGlzX2ltZ19hbHRfdHh0ID0gc2VsZi4kZWxlbS5hdHRyKCdkYXRhLW1vZGFhbC1kZXNjJyk7XG5cdFx0XHRcdFx0dGhpc19pbWdfYWx0ID0gJzxkaXYgY2xhc3M9XCJtb2RhYWwtZ2FsbGVyeS1sYWJlbFwiPjxzcGFuIGNsYXNzPVwibW9kYWFsLWFjY2Vzc2libGUtaGlkZVwiPkltYWdlIC0gPC9zcGFuPicgKyB0aGlzX2ltZ19hbHRfdHh0LnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpICsgJzwvZGl2Pic7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXJpYV9sYWJlbCA9IFwiSW1hZ2Ugd2l0aCBubyBkZXNjcmlwdGlvblwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgaW1hZ2UgaXRlbSBoYXMgc291cmNlIGVycm9yLCBvdXRwdXQgbWVzc2FnZSByYXRoZXIgdGhhbiB1bmRlZmluZWQgaW1hZ2Vcblx0XHRcdFx0dmFyIGltYWdlX291dHB1dCA9IGltZ19zcmNfZXJyb3IgPyB0aGlzX2ltZ19zcmMgOiAnPGltZyBzcmM9XCInICsgdGhpc19pbWdfc3JjICsgJ1wiIGFsdD1cIiBcIiBzdHlsZT1cIndpZHRoOjEwMCVcIj4nO1xuXG5cdFx0XHRcdC8vIGJ1aWxkIHVwIHRoZSBodG1sXG5cdFx0XHRcdG1vZGFhbF9pbWFnZV9tYXJrdXAgPSAnPGRpdiBjbGFzcz1cIm1vZGFhbC1nYWxsZXJ5LWl0ZW0gaXNfYWN0aXZlXCIgYXJpYS1sYWJlbD1cIicgKyBhcmlhX2xhYmVsICsgJ1wiPicgKyBpbWFnZV9vdXRwdXQgKyB0aGlzX2ltZ19hbHQgKyAnPC9kaXY+Jztcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXBkYXRlIGNvbnRlbnQgdmFyaWFibGVcblx0XHRcdGNvbnRlbnQgPSBtb2RhYWxfaW1hZ2VfbWFya3VwO1xuXG5cdFx0XHQvLyBub3cgcHVzaCBjb250ZW50IGludG8gbWFya3VwXG5cdFx0XHRzZWxmLmJ1aWxkX21vZGFsKGNvbnRlbnQpO1xuXG5cdFx0XHQvLyBzZXR1cCBuZXh0ICYgcHJldiBidXR0b25zXG5cdFx0XHRpZiAoJCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0uaXNfYWN0aXZlJykuaXMoJy5nYWxsZXJ5LWl0ZW0tMCcpKSB7XG5cdFx0XHRcdCQoJy5tb2RhYWwtZ2FsbGVyeS1wcmV2JykuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLmlzX2FjdGl2ZScpLmlzKCcuZ2FsbGVyeS1pdGVtLScgKyBnYWxsZXJ5X3RvdGFsKSkge1xuXHRcdFx0XHQkKCcubW9kYWFsLWdhbGxlcnktbmV4dCcpLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gR2FsbGVyeSBDaGFuZ2UgSW1hZ2Vcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Z2FsbGVyeV91cGRhdGU6IGZ1bmN0aW9uIGdhbGxlcnlfdXBkYXRlKGRpcmVjdGlvbikge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIHRoaXNfZ2FsbGVyeSA9ICQoJyMnICsgc2VsZi5zY29wZS5pZCk7XG5cdFx0XHR2YXIgdGhpc19nYWxsZXJ5X2l0ZW0gPSB0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0nKTtcblx0XHRcdHZhciB0aGlzX2dhbGxlcnlfdG90YWwgPSB0aGlzX2dhbGxlcnlfaXRlbS5sZW5ndGggLSAxO1xuXG5cdFx0XHQvLyBpZiBzaW5nbGUgaXRlbSwgZG9uJ3QgcHJvY2VlZFxuXHRcdFx0aWYgKHRoaXNfZ2FsbGVyeV90b3RhbCA9PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHByZXZfYnRuID0gdGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1wcmV2JyksXG5cdFx0XHQgICAgbmV4dF9idG4gPSB0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LW5leHQnKTtcblxuXHRcdFx0dmFyIGR1cmF0aW9uID0gMjUwO1xuXG5cdFx0XHR2YXIgbmV3X2ltZ193ID0gMCxcblx0XHRcdCAgICBuZXdfaW1nX2ggPSAwO1xuXG5cdFx0XHQvLyBDQjogQmVmb3JlIGltYWdlIGNoYW5nZVxuXHRcdFx0dmFyIGN1cnJlbnRfaXRlbSA9IHRoaXNfZ2FsbGVyeS5maW5kKCcubW9kYWFsLWdhbGxlcnktaXRlbS4nICsgc2VsZi5wcml2YXRlX29wdGlvbnMuYWN0aXZlX2NsYXNzKSxcblx0XHRcdCAgICBpbmNvbWluZ19pdGVtID0gZGlyZWN0aW9uID09ICduZXh0JyA/IGN1cnJlbnRfaXRlbS5uZXh0KCcubW9kYWFsLWdhbGxlcnktaXRlbScpIDogY3VycmVudF9pdGVtLnByZXYoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtJyk7XG5cdFx0XHRzZWxmLm9wdGlvbnMuYmVmb3JlX2ltYWdlX2NoYW5nZS5jYWxsKHNlbGYsIGN1cnJlbnRfaXRlbSwgaW5jb21pbmdfaXRlbSk7XG5cblx0XHRcdC8vIHN0b3AgY2hhbmdlIGlmIGF0IHN0YXJ0IG9mIGVuZFxuXHRcdFx0aWYgKGRpcmVjdGlvbiA9PSAncHJldicgJiYgdGhpc19nYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LWl0ZW0tMCcpLmhhc0NsYXNzKCdpc19hY3RpdmUnKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgdGhpc19nYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LWl0ZW0tJyArIHRoaXNfZ2FsbGVyeV90b3RhbCkuaGFzQ2xhc3MoJ2lzX2FjdGl2ZScpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9jayBkaW1lbnNpb25zXG5cdFx0XHRjdXJyZW50X2l0ZW0uc3RvcCgpLmFuaW1hdGUoe1xuXHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHR9LCBkdXJhdGlvbiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBNb3ZlIHRvIGFwcHJvcHJpYXRlIGltYWdlXG5cdFx0XHRcdGluY29taW5nX2l0ZW0uYWRkQ2xhc3MoJ2lzX25leHQnKS5jc3Moe1xuXHRcdFx0XHRcdCdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXG5cdFx0XHRcdFx0J2Rpc3BsYXknOiAnYmxvY2snLFxuXHRcdFx0XHRcdCdvcGFjaXR5JzogMFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBDb2xsZWN0IGRvYyB3aWR0aFxuXHRcdFx0XHR2YXIgZG9jX3dpZHRoID0gJChkb2N1bWVudCkud2lkdGgoKTtcblx0XHRcdFx0dmFyIHdpZHRoX3RocmVzaG9sZCA9IGRvY193aWR0aCA+IDExNDAgPyAyODAgOiA1MDtcblxuXHRcdFx0XHQvLyBzdGFydCB0b2dnbGUgdG8gJ2lzX25leHQnXG5cdFx0XHRcdG5ld19pbWdfdyA9IHRoaXNfZ2FsbGVyeS5maW5kKCcubW9kYWFsLWdhbGxlcnktaXRlbS5pc19uZXh0Jykud2lkdGgoKTtcblx0XHRcdFx0bmV3X2ltZ19oID0gdGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLmlzX25leHQnKS5oZWlnaHQoKTtcblxuXHRcdFx0XHR2YXIgbmV3X25hdHVyYWxfdyA9IHRoaXNfZ2FsbGVyeS5maW5kKCcubW9kYWFsLWdhbGxlcnktaXRlbS5pc19uZXh0IGltZycpLnByb3AoJ25hdHVyYWxXaWR0aCcpO1xuXHRcdFx0XHR2YXIgbmV3X25hdHVyYWxfaCA9IHRoaXNfZ2FsbGVyeS5maW5kKCcubW9kYWFsLWdhbGxlcnktaXRlbS5pc19uZXh0IGltZycpLnByb3AoJ25hdHVyYWxIZWlnaHQnKTtcblxuXHRcdFx0XHQvLyBpZiBuZXcgaW1hZ2UgaXMgd2lkZXIgdGhhbiBkb2Mgd2lkdGhcblx0XHRcdFx0aWYgKG5ld19uYXR1cmFsX3cgPiBkb2Nfd2lkdGggLSB3aWR0aF90aHJlc2hvbGQpIHtcblx0XHRcdFx0XHQvLyBzZXQgbmV3IHdpZHRoIGp1c3QgYmVsb3cgZG9jIHdpZHRoXG5cdFx0XHRcdFx0bmV3X2ltZ193ID0gZG9jX3dpZHRoIC0gd2lkdGhfdGhyZXNob2xkO1xuXG5cdFx0XHRcdFx0Ly8gU2V0IHRlbXAgd2lkdGhzIHNvIHdlIGNhbiBjYWx1bGF0ZSB0aGUgY29ycmVjdCBoZWlnaHQ7XG5cdFx0XHRcdFx0dGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLmlzX25leHQnKS5jc3MoeyAnd2lkdGgnOiBuZXdfaW1nX3cgfSk7XG5cdFx0XHRcdFx0dGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLmlzX25leHQgaW1nJykuY3NzKHsgJ3dpZHRoJzogbmV3X2ltZ193IH0pO1xuXG5cdFx0XHRcdFx0Ly8gU2V0IG5ldyBoZWlnaHQgdmFyaWFibGVcblx0XHRcdFx0XHRuZXdfaW1nX2ggPSB0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0uaXNfbmV4dCcpLmZpbmQoJ2ltZycpLmhlaWdodCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIG5ldyBpbWcgaXMgbm90IHdpZGVyIHRoYW4gc2NyZWVuLCBzbyBsZXQncyBzZXQgdGhlIG5ldyBkaW1lbnNpb25zXG5cdFx0XHRcdFx0bmV3X2ltZ193ID0gbmV3X25hdHVyYWxfdztcblx0XHRcdFx0XHRuZXdfaW1nX2ggPSBuZXdfbmF0dXJhbF9oO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gcmVzaXplIGdhbGxlcnkgcmVnaW9uXG5cdFx0XHRcdHRoaXNfZ2FsbGVyeS5maW5kKCcubW9kYWFsLWdhbGxlcnktaXRlbS13cmFwJykuc3RvcCgpLmFuaW1hdGUoe1xuXHRcdFx0XHRcdCd3aWR0aCc6IG5ld19pbWdfdyxcblx0XHRcdFx0XHQnaGVpZ2h0JzogbmV3X2ltZ19oXG5cdFx0XHRcdH0sIGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gaGlkZSBvbGQgYWN0aXZlIGltYWdlXG5cdFx0XHRcdFx0Y3VycmVudF9pdGVtLnJlbW92ZUNsYXNzKHNlbGYucHJpdmF0ZV9vcHRpb25zLmFjdGl2ZV9jbGFzcyArICcgJyArIHNlbGYub3B0aW9ucy5nYWxsZXJ5X2FjdGl2ZV9jbGFzcykucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRcdFx0XHRjdXJyZW50X2l0ZW0uZmluZCgnaW1nJykucmVtb3ZlQXR0cignc3R5bGUnKTtcblxuXHRcdFx0XHRcdC8vIHNob3cgbmV3IGltYWdlXG5cdFx0XHRcdFx0aW5jb21pbmdfaXRlbS5hZGRDbGFzcyhzZWxmLnByaXZhdGVfb3B0aW9ucy5hY3RpdmVfY2xhc3MgKyAnICcgKyBzZWxmLm9wdGlvbnMuZ2FsbGVyeV9hY3RpdmVfY2xhc3MpLnJlbW92ZUNsYXNzKCdpc19uZXh0JykuY3NzKCdwb3NpdGlvbicsICcnKTtcblxuXHRcdFx0XHRcdC8vIGFuaW1hdGUgaW4gbmV3IGltYWdlIChub3cgaGFzIHRoZSBub3JtYWwgaXNfYWN0aXZlIGNsYXNzXG5cdFx0XHRcdFx0aW5jb21pbmdfaXRlbS5zdG9wKCkuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0fSwgZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHQnd2lkdGgnOiAnMTAwJSdcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5maW5kKCdpbWcnKS5jc3MoJ3dpZHRoJywgJzEwMCUnKTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIGRpbWVuc2lvbiBsb2NrXG5cdFx0XHRcdFx0XHR0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0td3JhcCcpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cblx0XHRcdFx0XHRcdC8vIENCOiBBZnRlciBpbWFnZSBjaGFuZ2Vcblx0XHRcdFx0XHRcdHNlbGYub3B0aW9ucy5hZnRlcl9pbWFnZV9jaGFuZ2UuY2FsbChzZWxmLCBpbmNvbWluZ19pdGVtKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIEZvY3VzIG9uIHRoZSBuZXcgZ2FsbGVyeSBpdGVtXG5cdFx0XHRcdFx0dGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtJykucmVtb3ZlQXR0cigndGFiaW5kZXgnKTtcblx0XHRcdFx0XHR0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0uJyArIHNlbGYucHJpdmF0ZV9vcHRpb25zLmFjdGl2ZV9jbGFzcyArICcnKS5hdHRyKCd0YWJpbmRleCcsICcwJykuZm9jdXMoKTtcblxuXHRcdFx0XHRcdC8vIGhpZGUvc2hvdyBuZXh0L3ByZXZcblx0XHRcdFx0XHRpZiAodGhpc19nYWxsZXJ5LmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLicgKyBzZWxmLnByaXZhdGVfb3B0aW9ucy5hY3RpdmVfY2xhc3MpLmlzKCcuZ2FsbGVyeS1pdGVtLTAnKSkge1xuXHRcdFx0XHRcdFx0cHJldl9idG4uc3RvcCgpLmFuaW1hdGUoe1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdFx0XHR9LCAxNTAsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0JCh0aGlzKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cHJldl9idG4uc3RvcCgpLmNzcyh7XG5cdFx0XHRcdFx0XHRcdCdkaXNwbGF5JzogJ2Jsb2NrJyxcblx0XHRcdFx0XHRcdFx0J29wYWNpdHknOiBwcmV2X2J0bi5jc3MoJ29wYWNpdHknKVxuXHRcdFx0XHRcdFx0fSkuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0XHRcdH0sIDE1MCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzX2dhbGxlcnkuZmluZCgnLm1vZGFhbC1nYWxsZXJ5LWl0ZW0uJyArIHNlbGYucHJpdmF0ZV9vcHRpb25zLmFjdGl2ZV9jbGFzcykuaXMoJy5nYWxsZXJ5LWl0ZW0tJyArIHRoaXNfZ2FsbGVyeV90b3RhbCkpIHtcblx0XHRcdFx0XHRcdG5leHRfYnRuLnN0b3AoKS5hbmltYXRlKHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHRcdFx0fSwgMTUwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdCQodGhpcykuaGlkZSgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG5leHRfYnRuLnN0b3AoKS5jc3Moe1xuXHRcdFx0XHRcdFx0XHQnZGlzcGxheSc6ICdibG9jaycsXG5cdFx0XHRcdFx0XHRcdCdvcGFjaXR5JzogcHJldl9idG4uY3NzKCdvcGFjaXR5Jylcblx0XHRcdFx0XHRcdH0pLmFuaW1hdGUoe1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdFx0XHR9LCAxNTApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Ly8gQ3JlYXRlIFZpZGVvIE1vZGFsXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdGNyZWF0ZV92aWRlbzogZnVuY3Rpb24gY3JlYXRlX3ZpZGVvKHVybCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNvbnRlbnQ7XG5cblx0XHRcdC8vIHZpZGVvIG1hcmt1cFxuXHRcdFx0Y29udGVudCA9ICc8aWZyYW1lIHNyYz1cIicgKyB1cmwgKyAnXCIgY2xhc3M9XCJtb2RhYWwtdmlkZW8tZnJhbWVcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JztcblxuXHRcdFx0Ly8gbm93IHB1c2ggY29udGVudCBpbnRvIG1hcmt1cFxuXHRcdFx0c2VsZi5idWlsZF9tb2RhbCgnPGRpdiBjbGFzcz1cIm1vZGFhbC12aWRlby1jb250YWluZXJcIj4nICsgY29udGVudCArICc8L2Rpdj4nKTtcblx0XHR9LFxuXG5cdFx0Ly8gQ3JlYXRlIGlGcmFtZSBNb2RhbFxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRjcmVhdGVfaWZyYW1lOiBmdW5jdGlvbiBjcmVhdGVfaWZyYW1lKHVybCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNvbnRlbnQ7XG5cblx0XHRcdGlmIChzZWxmLm9wdGlvbnMud2lkdGggIT09IG51bGwgfHwgc2VsZi5vcHRpb25zLndpZHRoICE9PSB1bmRlZmluZWQgfHwgc2VsZi5vcHRpb25zLmhlaWdodCAhPT0gbnVsbCB8fCBzZWxmLm9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gdmlkZW8gbWFya3VwXG5cdFx0XHRcdGNvbnRlbnQgPSAnPGlmcmFtZSBzcmM9XCInICsgdXJsICsgJ1wiIGNsYXNzPVwibW9kYWFsLWlmcmFtZS1lbGVtXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPic7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb250ZW50ID0gJzxkaXYgY2xhc3M9XCJtb2RhYWwtY29udGVudC1jb250YWluZXJcIj5QbGVhc2Ugc3BlY2lmeSBhIHdpZHRoIGFuZCBoZWlnaHQgZm9yIHlvdXIgaWZyYW1lPC9kaXY+Jztcblx0XHRcdH1cblxuXHRcdFx0Ly8gbm93IHB1c2ggY29udGVudCBpbnRvIG1hcmt1cFxuXHRcdFx0c2VsZi5idWlsZF9tb2RhbChjb250ZW50KTtcblx0XHR9LFxuXG5cdFx0Ly8gT3BlbiBNb2RhYWxcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0bW9kYWFsX29wZW46IGZ1bmN0aW9uIG1vZGFhbF9vcGVuKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIG1vZGFsX3dyYXBwZXIgPSAkKCcjJyArIHNlbGYuc2NvcGUuaWQpO1xuXHRcdFx0dmFyIGFuaW1hdGlvbl90eXBlID0gc2VsZi5vcHRpb25zLmFuaW1hdGlvbjtcblxuXHRcdFx0aWYgKGFuaW1hdGlvbl90eXBlID09PSAnbm9uZScpIHtcblx0XHRcdFx0bW9kYWxfd3JhcHBlci5yZW1vdmVDbGFzcygnbW9kYWFsLXN0YXJ0X25vbmUnKTtcblx0XHRcdFx0c2VsZi5vcHRpb25zLmFmdGVyX29wZW4uY2FsbChzZWxmLCBtb2RhbF93cmFwcGVyKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlbiB3aXRoIGZhZGVcblx0XHRcdGlmIChhbmltYXRpb25fdHlwZSA9PT0gJ2ZhZGUnKSB7XG5cdFx0XHRcdG1vZGFsX3dyYXBwZXIucmVtb3ZlQ2xhc3MoJ21vZGFhbC1zdGFydF9mYWRlJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZW4gd2l0aCBzbGlkZSBkb3duXG5cdFx0XHRpZiAoYW5pbWF0aW9uX3R5cGUgPT09ICdzbGlkZS1kb3duJykge1xuXHRcdFx0XHRtb2RhbF93cmFwcGVyLnJlbW92ZUNsYXNzKCdtb2RhYWwtc3RhcnRfc2xpZGVfZG93bicpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZm9jdXNUYXJnZXQgPSBtb2RhbF93cmFwcGVyO1xuXG5cdFx0XHQvLyBTd2l0Y2ggZm9jdXNUYXJnZXQgdGFiaW5kZXggKHN3aXRjaCBmcm9tIG90aGVyIG1vZGFsIGlmIGV4aXN0cylcblx0XHRcdCQoJy5tb2RhYWwtd3JhcHBlciAqW3RhYmluZGV4PTBdJykucmVtb3ZlQXR0cigndGFiaW5kZXgnKTtcblxuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy50eXBlID09ICdpbWFnZScpIHtcblx0XHRcdFx0Zm9jdXNUYXJnZXQgPSAkKCcjJyArIHNlbGYuc2NvcGUuaWQpLmZpbmQoJy5tb2RhYWwtZ2FsbGVyeS1pdGVtLicgKyBzZWxmLnByaXZhdGVfb3B0aW9ucy5hY3RpdmVfY2xhc3MpO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RhbF93cmFwcGVyLmZpbmQoJy5tb2RhYWwtaWZyYW1lLWVsZW0nKS5sZW5ndGgpIHtcblx0XHRcdFx0Zm9jdXNUYXJnZXQgPSBtb2RhbF93cmFwcGVyLmZpbmQoJy5tb2RhYWwtaWZyYW1lLWVsZW0nKTtcblx0XHRcdH0gZWxzZSBpZiAobW9kYWxfd3JhcHBlci5maW5kKCcubW9kYWFsLXZpZGVvLXdyYXAnKS5sZW5ndGgpIHtcblx0XHRcdFx0Zm9jdXNUYXJnZXQgPSBtb2RhbF93cmFwcGVyLmZpbmQoJy5tb2RhYWwtdmlkZW8td3JhcCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9jdXNUYXJnZXQgPSBtb2RhbF93cmFwcGVyLmZpbmQoJy5tb2RhYWwtZm9jdXMnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbm93IHNldCB0aGUgZm9jdXNcblx0XHRcdGZvY3VzVGFyZ2V0LmF0dHIoJ3RhYmluZGV4JywgJzAnKS5mb2N1cygpO1xuXG5cdFx0XHQvLyBSdW4gYWZ0ZXJfb3BlblxuXHRcdFx0aWYgKGFuaW1hdGlvbl90eXBlICE9PSAnbm9uZScpIHtcblx0XHRcdFx0Ly8gQ0I6IGFmdGVyX29wZW5cblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0c2VsZi5vcHRpb25zLmFmdGVyX29wZW4uY2FsbChzZWxmLCBtb2RhbF93cmFwcGVyKTtcblx0XHRcdFx0fSwgc2VsZi5vcHRpb25zLmFmdGVyX2NhbGxiYWNrX2RlbGF5KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gQ2xvc2UgTW9kYWxcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0bW9kYWFsX2Nsb3NlOiBmdW5jdGlvbiBtb2RhYWxfY2xvc2UoKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgbW9kYWxfd3JhcHBlciA9ICQoJyMnICsgc2VsZi5zY29wZS5pZCk7XG5cblx0XHRcdC8vIENCOiBiZWZvcmVfY2xvc2Vcblx0XHRcdHNlbGYub3B0aW9ucy5iZWZvcmVfY2xvc2UuY2FsbChzZWxmLCBtb2RhbF93cmFwcGVyKTtcblxuXHRcdFx0aWYgKHNlbGYueGhyICE9PSBudWxsKSB7XG5cdFx0XHRcdHNlbGYueGhyLmFib3J0KCk7XG5cdFx0XHRcdHNlbGYueGhyID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTm93IHdlIGNsb3NlIHRoZSBtb2RhbFxuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5hbmltYXRpb24gPT09ICdub25lJykge1xuXHRcdFx0XHRtb2RhbF93cmFwcGVyLmFkZENsYXNzKCdtb2RhYWwtc3RhcnRfbm9uZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbG9zZSB3aXRoIGZhZGVcblx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYW5pbWF0aW9uID09PSAnZmFkZScpIHtcblx0XHRcdFx0bW9kYWxfd3JhcHBlci5hZGRDbGFzcygnbW9kYWFsLXN0YXJ0X2ZhZGUnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xvc2Ugd2l0aCBzbGlkZSB1cCAodXNpbmcgaW5pdGlhbCBzbGlkZSBkb3duKVxuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5hbmltYXRpb24gPT09ICdzbGlkZS1kb3duJykge1xuXHRcdFx0XHRtb2RhbF93cmFwcGVyLmFkZENsYXNzKCdtb2RhYWwtc3RhcnRfc2xpZGVfZG93bicpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDQjogYWZ0ZXJfY2xvc2UgYW5kIHJlbW92ZVxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdC8vIGNsb25lIGlubGluZSBjb250ZW50IGJhY2sgdG8gb3JpZ2luIHBsYWNlXG5cdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMudHlwZSA9PSAnaW5saW5lJykge1xuXHRcdFx0XHRcdCQoJyMnICsgc2VsZi5zY29wZS5pZCArICcgLm1vZGFhbC1jb250ZW50LWNvbnRhaW5lcicpLmNvbnRlbnRzKCkuZGV0YWNoKCkuYXBwZW5kVG8oc2VsZi5zY29wZS5zb3VyY2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHJlbW92ZSBtYXJrdXAgZnJvbSBkb21cblx0XHRcdFx0bW9kYWxfd3JhcHBlci5yZW1vdmUoKTtcblx0XHRcdFx0Ly8gQ0I6IGFmdGVyX2Nsb3NlXG5cdFx0XHRcdHNlbGYub3B0aW9ucy5hZnRlcl9jbG9zZS5jYWxsKHNlbGYpO1xuXHRcdFx0XHQvLyBzY29wZSBpcyBub3cgY2xvc2VkXG5cdFx0XHRcdHNlbGYuc2NvcGUuaXNfb3BlbiA9IGZhbHNlO1xuXHRcdFx0fSwgc2VsZi5vcHRpb25zLmFmdGVyX2NhbGxiYWNrX2RlbGF5KTtcblxuXHRcdFx0Ly8gQ2FsbCBvdmVybGF5IGhpZGVcblx0XHRcdHNlbGYubW9kYWFsX292ZXJsYXkoJ2hpZGUnKTtcblxuXHRcdFx0Ly8gUm9sbCBiYWNrIHRvIGxhc3QgZm9jdXMgc3RhdGUgYmVmb3JlIG1vZGFsIG9wZW4uIElmIHdhcyBjbG9zZWQgcHJvZ3JhbW1hdGljYWxseSwgdGhpcyBtaWdodCBub3QgYmUgc2V0XG5cdFx0XHRpZiAoc2VsZi5sYXN0Rm9jdXMgIT0gbnVsbCkge1xuXHRcdFx0XHRzZWxmLmxhc3RGb2N1cy5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBPdmVybGF5IGNvbnRyb2wgKGFjY2VwdHMgYWN0aW9uIGZvciBzaG93IG9yIGhpZGUpXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdG1vZGFhbF9vdmVybGF5OiBmdW5jdGlvbiBtb2RhYWxfb3ZlcmxheShhY3Rpb24pIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0aWYgKGFjdGlvbiA9PSAnc2hvdycpIHtcblx0XHRcdFx0Ly8gTW9kYWwgaXMgb3BlbiBzbyB1cGRhdGUgc2NvcGVcblx0XHRcdFx0c2VsZi5zY29wZS5pc19vcGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBzZXQgYm9keSB0byBvdmVyZmxvdyBoaWRkZW4gaWYgYmFja2dyb3VuZF9zY3JvbGwgaXMgZmFsc2Vcblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuYmFja2dyb3VuZF9zY3JvbGwpIHtcblx0XHRcdFx0XHRzZWxmLmRvbS5hZGRDbGFzcygnbW9kYWFsLW5vc2Nyb2xsJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhcHBlbmQgbW9kYWFsIG92ZXJsYXlcblx0XHRcdFx0aWYgKCQoJyMnICsgc2VsZi5zY29wZS5pZCArICdfb3ZlcmxheScpLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRzZWxmLmRvbS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJtb2RhYWwtb3ZlcmxheVwiIGlkPVwiJyArIHNlbGYuc2NvcGUuaWQgKyAnX292ZXJsYXlcIj48L2Rpdj4nKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG5vdyBzaG93XG5cdFx0XHRcdCQoJyMnICsgc2VsZi5zY29wZS5pZCArICdfb3ZlcmxheScpLmNzcygnYmFja2dyb3VuZCcsIHNlbGYub3B0aW9ucy5iYWNrZ3JvdW5kKS5zdG9wKCkuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0b3BhY2l0eTogc2VsZi5vcHRpb25zLm92ZXJsYXlfb3BhY2l0eVxuXHRcdFx0XHR9LCBzZWxmLm9wdGlvbnMuYW5pbWF0aW9uX3NwZWVkLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gbm93IG9wZW4gdGhlIG1vZGFsXG5cdFx0XHRcdFx0c2VsZi5tb2RhYWxfb3BlbigpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uID09ICdoaWRlJykge1xuXG5cdFx0XHRcdC8vIG5vdyBoaWRlIHRoZSBvdmVybGF5XG5cdFx0XHRcdCQoJyMnICsgc2VsZi5zY29wZS5pZCArICdfb3ZlcmxheScpLnN0b3AoKS5hbmltYXRlKHtcblx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdH0sIHNlbGYub3B0aW9ucy5hbmltYXRpb25fc3BlZWQsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyByZW1vdmUgb3ZlcmxheSBmcm9tIGRvbVxuXHRcdFx0XHRcdCQodGhpcykucmVtb3ZlKCk7XG5cblx0XHRcdFx0XHQvLyByZW1vdmUgYm9keSBvdmVyZmxvdyBsb2NrXG5cdFx0XHRcdFx0c2VsZi5kb20ucmVtb3ZlQ2xhc3MoJ21vZGFhbC1ub3Njcm9sbCcpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gQ2hlY2sgaWYgaXMgdG91Y2hcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0aXNfdG91Y2g6IGZ1bmN0aW9uIGlzX3RvdWNoKCkge1xuXHRcdFx0cmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIERlZmluZSBkZWZhdWx0IG9iamVjdCB0byBzdG9yZVxuXHR2YXIgbW9kYWFsX2V4aXN0aW5nX3NlbGVjdG9ycyA9IFtdO1xuXG5cdC8vIERlY2xhcmUgdGhlIG1vZGFhbCBqUXVlcnkgbWV0aG9kXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQkLmZuLm1vZGFhbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSkge1xuXHRcdFx0dmFyIGV4aXN0aW5nX21vZGFhbCA9ICQodGhpcykuZGF0YSgnbW9kYWFsJyk7XG5cblx0XHRcdGlmIChleGlzdGluZ19tb2RhYWwpIHtcblx0XHRcdFx0Ly8gQ2hlY2tpbmcgZm9yIHN0cmluZyB2YWx1ZSwgdXNlZCBmb3IgbWV0aG9kc1xuXHRcdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRzd2l0Y2ggKG9wdGlvbnMpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ29wZW4nOlxuXHRcdFx0XHRcdFx0XHQvLyBjcmVhdGUgdGhlIG1vZGFsXG5cdFx0XHRcdFx0XHRcdGV4aXN0aW5nX21vZGFhbC5jcmVhdGVfbW9kYWFsKGV4aXN0aW5nX21vZGFhbCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAnY2xvc2UnOlxuXHRcdFx0XHRcdFx0XHRleGlzdGluZ19tb2RhYWwubW9kYWFsX2Nsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm90IGEgc3RyaW5nLCBzbyBsZXQncyBzZXR1cCB0aGUgbW9kYWwgcmVhZHkgdG8gdXNlXG5cdFx0XHRcdHZhciBtb2RhYWwgPSBPYmplY3QuY3JlYXRlKE1vZGFhbCk7XG5cdFx0XHRcdG1vZGFhbC5pbml0KG9wdGlvbnMsIHRoaXMpO1xuXHRcdFx0XHQkLmRhdGEodGhpcywgXCJtb2RhYWxcIiwgbW9kYWFsKTtcblxuXHRcdFx0XHQvLyBwdXNoIHRoaXMgc2VsZWN0IGludG8gZXhpc3Rpbmcgc2VsZWN0b3JzIGFycmF5IHdoaWNoIGlzIHJlZmVyZW5jZWQgZHVyaW5nIG1vZGFhbF9kb21fb2JzZXJ2ZXJcblx0XHRcdFx0bW9kYWFsX2V4aXN0aW5nX3NlbGVjdG9ycy5wdXNoKHtcblx0XHRcdFx0XHQnZWxlbWVudCc6ICQodGhpcykuYXR0cignY2xhc3MnKSxcblx0XHRcdFx0XHQnb3B0aW9ucyc6IG9wdGlvbnNcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG5cblx0Ly8gRGVmYXVsdCBvcHRpb25zXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQkLmZuLm1vZGFhbC5vcHRpb25zID0ge1xuXG5cdFx0Ly9HZW5lcmFsXG5cdFx0dHlwZTogJ2lubGluZScsXG5cdFx0Y29udGVudF9zb3VyY2U6IG51bGwsXG5cdFx0YW5pbWF0aW9uOiAnZmFkZScsXG5cdFx0YW5pbWF0aW9uX3NwZWVkOiAzMDAsXG5cdFx0YWZ0ZXJfY2FsbGJhY2tfZGVsYXk6IDM1MCxcblx0XHRpc19sb2NrZWQ6IGZhbHNlLFxuXHRcdGhpZGVfY2xvc2U6IGZhbHNlLFxuXHRcdGJhY2tncm91bmQ6ICcjMDAwJyxcblx0XHRvdmVybGF5X29wYWNpdHk6ICcwLjgnLFxuXHRcdG92ZXJsYXlfY2xvc2U6IHRydWUsXG5cdFx0YWNjZXNzaWJsZV90aXRsZTogJ0RpYWxvZyBXaW5kb3cnLFxuXHRcdHN0YXJ0X29wZW46IGZhbHNlLFxuXHRcdGZ1bGxzY3JlZW46IGZhbHNlLFxuXHRcdGN1c3RvbV9jbGFzczogJycsXG5cdFx0YmFja2dyb3VuZF9zY3JvbGw6IGZhbHNlLFxuXHRcdHNob3VsZF9vcGVuOiB0cnVlLFxuXHRcdGNsb3NlX3RleHQ6ICdDbG9zZScsXG5cdFx0Y2xvc2VfYXJpYV9sYWJlbDogJ0Nsb3NlIChQcmVzcyBlc2NhcGUgdG8gY2xvc2UpJyxcblx0XHR3aWR0aDogbnVsbCxcblx0XHRoZWlnaHQ6IG51bGwsXG5cblx0XHQvL0V2ZW50c1xuXHRcdGJlZm9yZV9vcGVuOiBmdW5jdGlvbiBiZWZvcmVfb3BlbigpIHt9LFxuXHRcdGFmdGVyX29wZW46IGZ1bmN0aW9uIGFmdGVyX29wZW4oKSB7fSxcblx0XHRiZWZvcmVfY2xvc2U6IGZ1bmN0aW9uIGJlZm9yZV9jbG9zZSgpIHt9LFxuXHRcdGFmdGVyX2Nsb3NlOiBmdW5jdGlvbiBhZnRlcl9jbG9zZSgpIHt9LFxuXHRcdHNvdXJjZTogZnVuY3Rpb24gc291cmNlKGVsZW1lbnQsIHNyYykge1xuXHRcdFx0cmV0dXJuIHNyYztcblx0XHR9LFxuXG5cdFx0Ly9Db25maXJtIE1vZGFsXG5cdFx0Y29uZmlybV9idXR0b25fdGV4dDogJ0NvbmZpcm0nLCAvLyB0ZXh0IG9uIGNvbmZpcm0gYnV0dG9uXG5cdFx0Y29uZmlybV9jYW5jZWxfYnV0dG9uX3RleHQ6ICdDYW5jZWwnLFxuXHRcdGNvbmZpcm1fdGl0bGU6ICdDb25maXJtIFRpdGxlJywgLy8gdGl0bGUgZm9yIGNvbmZpcm0gbW9kYWxcblx0XHRjb25maXJtX2NvbnRlbnQ6ICc8cD5UaGlzIGlzIHRoZSBkZWZhdWx0IGNvbmZpcm0gZGlhbG9nIGNvbnRlbnQuIFJlcGxhY2UgbWUgdGhyb3VnaCB0aGUgb3B0aW9uczwvcD4nLCAvLyBodG1sIGZvciBjb25maXJtIG1lc3NhZ2Vcblx0XHRjb25maXJtX2NhbGxiYWNrOiBmdW5jdGlvbiBjb25maXJtX2NhbGxiYWNrKCkge30sXG5cdFx0Y29uZmlybV9jYW5jZWxfY2FsbGJhY2s6IGZ1bmN0aW9uIGNvbmZpcm1fY2FuY2VsX2NhbGxiYWNrKCkge30sXG5cblx0XHQvL0dhbGxlcnkgTW9kYWxcblx0XHRnYWxsZXJ5X2FjdGl2ZV9jbGFzczogJ2dhbGxlcnlfYWN0aXZlX2l0ZW0nLFxuXHRcdG91dGVyX2NvbnRyb2xzOiBmYWxzZSxcblx0XHRiZWZvcmVfaW1hZ2VfY2hhbmdlOiBmdW5jdGlvbiBiZWZvcmVfaW1hZ2VfY2hhbmdlKGN1cnJlbnRfaXRlbSwgaW5jb21pbmdfaXRlbSkge30sXG5cdFx0YWZ0ZXJfaW1hZ2VfY2hhbmdlOiBmdW5jdGlvbiBhZnRlcl9pbWFnZV9jaGFuZ2UoY3VycmVudF9pdGVtKSB7fSxcblxuXHRcdC8vQWpheCBNb2RhbFxuXHRcdGxvYWRpbmdfY29udGVudDogbW9kYWFsX2xvYWRpbmdfc3Bpbm5lcixcblx0XHRsb2FkaW5nX2NsYXNzOiAnaXNfbG9hZGluZycsXG5cdFx0YWpheF9lcnJvcl9jbGFzczogJ21vZGFhbC1lcnJvcicsXG5cdFx0YWpheF9zdWNjZXNzOiBmdW5jdGlvbiBhamF4X3N1Y2Nlc3MoKSB7fSxcblxuXHRcdC8vSW5zdGFncmFtXG5cdFx0aW5zdGFncmFtX2lkOiBudWxsXG5cdH07XG5cblx0Ly8gQ2hlY2sgYW5kIFNldCBJbmxpbmUgT3B0aW9uc1xuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0ZnVuY3Rpb24gbW9kYWFsX2lubGluZV9vcHRpb25zKHNlbGYpIHtcblxuXHRcdC8vIG5ldyBlbXB0eSBvcHRpb25zXG5cdFx0dmFyIG9wdGlvbnMgPSB7fTtcblx0XHR2YXIgaW5saW5lX29wdGlvbnMgPSBmYWxzZTtcblxuXHRcdC8vIG9wdGlvbjogdHlwZVxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLXR5cGUnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy50eXBlID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC10eXBlJyk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiB0eXBlXG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29udGVudC1zb3VyY2UnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5jb250ZW50X3NvdXJjZSA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29udGVudC1zb3VyY2UnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGFuaW1hdGlvblxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWFuaW1hdGlvbicpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmFuaW1hdGlvbiA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtYW5pbWF0aW9uJyk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiBhbmltYXRpb25fc3BlZWRcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1hbmltYXRpb24tc3BlZWQnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5hbmltYXRpb25fc3BlZWQgPSBzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWFuaW1hdGlvbi1zcGVlZCcpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogYWZ0ZXJfY2FsbGJhY2tfZGVsYXlcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1hZnRlci1jYWxsYmFjay1kZWxheScpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmFmdGVyX2NhbGxiYWNrX2RlbGF5ID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1hZnRlci1jYWxsYmFjay1kZWxheScpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogaXNfbG9ja2VkXG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtaXMtbG9ja2VkJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuaXNfbG9ja2VkID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1pcy1sb2NrZWQnKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogaGlkZV9jbG9zZVxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWhpZGUtY2xvc2UnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5oaWRlX2Nsb3NlID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1oaWRlLWNsb3NlJykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGJhY2tncm91bmRcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1iYWNrZ3JvdW5kJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuYmFja2dyb3VuZCA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtYmFja2dyb3VuZCcpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogb3ZlcmxheV9vcGFjaXR5XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtb3ZlcmxheS1vcGFjaXR5JykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMub3ZlcmxheV9vcGFjaXR5ID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1vdmVybGF5LW9wYWNpdHknKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IG92ZXJsYXlfY2xvc2Vcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1vdmVybGF5LWNsb3NlJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMub3ZlcmxheV9jbG9zZSA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtb3ZlcmxheS1jbG9zZScpID09PSAnZmFsc2UnID8gZmFsc2UgOiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogYWNjZXNzaWJsZV90aXRsZVxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWFjY2Vzc2libGUtdGl0bGUnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5hY2Nlc3NpYmxlX3RpdGxlID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1hY2Nlc3NpYmxlLXRpdGxlJyk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiBzdGFydF9vcGVuXG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtc3RhcnQtb3BlbicpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLnN0YXJ0X29wZW4gPSBzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLXN0YXJ0LW9wZW4nKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogZnVsbHNjcmVlblxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWZ1bGxzY3JlZW4nKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5mdWxsc2NyZWVuID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1mdWxsc2NyZWVuJykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGN1c3RvbV9jbGFzc1xuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWN1c3RvbS1jbGFzcycpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmN1c3RvbV9jbGFzcyA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY3VzdG9tLWNsYXNzJyk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiBjbG9zZV90ZXh0XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY2xvc2UtdGV4dCcpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmNsb3NlX3RleHQgPSBzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWNsb3NlLXRleHQnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGNsb3NlX2FyaWFfbGFiZWxcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1jbG9zZS1hcmlhLWxhYmVsJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuY2xvc2VfYXJpYV9sYWJlbCA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY2xvc2UtYXJpYS1sYWJlbCcpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogYmFja2dyb3VuZF9zY3JvbGxcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1iYWNrZ3JvdW5kLXNjcm9sbCcpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmJhY2tncm91bmRfc2Nyb2xsID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1iYWNrZ3JvdW5kLXNjcm9sbCcpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiB3aWR0aFxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLXdpZHRoJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMud2lkdGggPSBwYXJzZUludChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLXdpZHRoJykpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogaGVpZ2h0XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtaGVpZ2h0JykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuaGVpZ2h0ID0gcGFyc2VJbnQoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1oZWlnaHQnKSk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiBjb25maXJtX2J1dHRvbl90ZXh0XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29uZmlybS1idXR0b24tdGV4dCcpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmNvbmZpcm1fYnV0dG9uX3RleHQgPSBzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWNvbmZpcm0tYnV0dG9uLXRleHQnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGNvbmZpcm1fY2FuY2VsX2J1dHRvbl90ZXh0XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29uZmlybS1jYW5jZWwtYnV0dG9uLXRleHQnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5jb25maXJtX2NhbmNlbF9idXR0b25fdGV4dCA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29uZmlybS1jYW5jZWwtYnV0dG9uLXRleHQnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGNvbmZpcm1fdGl0bGVcblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1jb25maXJtLXRpdGxlJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuY29uZmlybV90aXRsZSA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29uZmlybS10aXRsZScpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogY29uZmlybV9jb250ZW50XG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtY29uZmlybS1jb250ZW50JykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuY29uZmlybV9jb250ZW50ID0gc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1jb25maXJtLWNvbnRlbnQnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGdhbGxlcnlfYWN0aXZlX2NsYXNzXG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtZ2FsbGVyeS1hY3RpdmUtY2xhc3MnKSkge1xuXHRcdFx0aW5saW5lX29wdGlvbnMgPSB0cnVlO1xuXHRcdFx0b3B0aW9ucy5nYWxsZXJ5X2FjdGl2ZV9jbGFzcyA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtZ2FsbGVyeS1hY3RpdmUtY2xhc3MnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGxvYWRpbmdfY29udGVudFxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWxvYWRpbmctY29udGVudCcpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmxvYWRpbmdfY29udGVudCA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtbG9hZGluZy1jb250ZW50Jyk7XG5cdFx0fVxuXG5cdFx0Ly8gb3B0aW9uOiBsb2FkaW5nX2NsYXNzXG5cdFx0aWYgKHNlbGYuYXR0cignZGF0YS1tb2RhYWwtbG9hZGluZy1jbGFzcycpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmxvYWRpbmdfY2xhc3MgPSBzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWxvYWRpbmctY2xhc3MnKTtcblx0XHR9XG5cblx0XHQvLyBvcHRpb246IGFqYXhfZXJyb3JfY2xhc3Ncblx0XHRpZiAoc2VsZi5hdHRyKCdkYXRhLW1vZGFhbC1hamF4LWVycm9yLWNsYXNzJykpIHtcblx0XHRcdGlubGluZV9vcHRpb25zID0gdHJ1ZTtcblx0XHRcdG9wdGlvbnMuYWpheF9lcnJvcl9jbGFzcyA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtYWpheC1lcnJvci1jbGFzcycpO1xuXHRcdH1cblxuXHRcdC8vIG9wdGlvbjogc3RhcnRfb3BlblxuXHRcdGlmIChzZWxmLmF0dHIoJ2RhdGEtbW9kYWFsLWluc3RhZ3JhbS1pZCcpKSB7XG5cdFx0XHRpbmxpbmVfb3B0aW9ucyA9IHRydWU7XG5cdFx0XHRvcHRpb25zLmluc3RhZ3JhbV9pZCA9IHNlbGYuYXR0cignZGF0YS1tb2RhYWwtaW5zdGFncmFtLWlkJyk7XG5cdFx0fVxuXG5cdFx0Ly8gbm93IHNldCBpdCB1cCBmb3IgdGhlIHRyaWdnZXIsIGJ1dCBvbmx5IGlmIGlubGluZV9vcHRpb25zIGlzIHRydWVcblx0XHRpZiAoaW5saW5lX29wdGlvbnMpIHtcblx0XHRcdHNlbGYubW9kYWFsKG9wdGlvbnMpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBPbiBib2R5IGxvYWQgKG9yIG5vdywgaWYgYWxyZWFkeSBsb2FkZWQpLCBpbml0IGFueSBtb2RhYWxzIGRlZmluZWQgaW5saW5lXG5cdC8vIEVuc3VyZSB0aGlzIGlzIGRvbmUgYWZ0ZXIgJC5mbi5tb2RhYWwgYW5kIGRlZmF1bHQgb3B0aW9ucyBhcmUgZGVjbGFyZWRcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQkKGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBzaW5nbGVfbW9kYWFsID0gJCgnLm1vZGFhbCcpO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGV4aXN0aW5nIG1vZGFhbCBlbGVtZW50c1xuXHRcdGlmIChzaW5nbGVfbW9kYWFsLmxlbmd0aCkge1xuXHRcdFx0c2luZ2xlX21vZGFhbC5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIHNlbGYgPSAkKHRoaXMpO1xuXHRcdFx0XHRtb2RhYWxfaW5saW5lX29wdGlvbnMoc2VsZik7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBPYnZzZXJ2ZSBET00gbXV0YXRpb25zIGZvciBuZXdseSBhZGRlZCB0cmlnZ2Vyc1xuXHRcdHZhciBtb2RhYWxfZG9tX29ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuXHRcdFx0bXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG5cdFx0XHRcdGlmIChtdXRhdGlvbi5hZGRlZE5vZGVzICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdC8vIGVsZW1lbnQgYWRkZWQgdG8gRE9NXG5cdFx0XHRcdFx0dmFyIGZpbmRFbGVtZW50ID0gW10uc29tZS5jYWxsKG11dGF0aW9uLmFkZGVkTm9kZXMsIGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRcdFx0dmFyIGVsbSA9ICQoZWwpO1xuXHRcdFx0XHRcdFx0aWYgKGVsbS5pcygnYScpIHx8IGVsbS5pcygnYnV0dG9uJykpIHtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZWxtLmhhc0NsYXNzKCdtb2RhYWwnKSkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGlzIGlubGluZSBNb2RhYWwsIGluaXRpYWxpc2Ugb3B0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdG1vZGFhbF9pbmxpbmVfb3B0aW9ucyhlbG0pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGlzIG5vdCBpbmxpbmUgbW9kYWFsLiBDaGVjayBmb3IgZXhpc3Rpbmcgc2VsZWN0b3Jcblx0XHRcdFx0XHRcdFx0XHRtb2RhYWxfZXhpc3Rpbmdfc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKG1vZGFhbFNlbGVjdG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobW9kYWFsU2VsZWN0b3IuZWxlbWVudCA9PSBlbG0uYXR0cignY2xhc3MnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKGVsbSkubW9kYWFsKG1vZGFhbFNlbGVjdG9yLm9wdGlvbnMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0dmFyIG9ic2VydmVyX2NvbmZpZyA9IHtcblx0XHRcdHN1YnRyZWU6IHRydWUsXG5cdFx0XHRhdHRyaWJ1dGVzOiB0cnVlLFxuXHRcdFx0Y2hpbGRMaXN0OiB0cnVlLFxuXHRcdFx0Y2hhcmFjdGVyRGF0YTogdHJ1ZVxuXHRcdH07XG5cblx0XHQvLyBwYXNzIGluIHRoZSB0YXJnZXQgbm9kZSwgYXMgd2VsbCBhcyB0aGUgb2JzZXJ2ZXIgb3B0aW9uc1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0bW9kYWFsX2RvbV9vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyX2NvbmZpZyk7XG5cdFx0fSwgNTAwKTtcblx0fSk7XG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuLyoqXG4gKiBDb2RlZmFsc2UtRm9ybSBtb2R1bGUgZmlsZS5cbiAqIHVzZSBqcXVlcnkgMy4zLjFcbiAqL1xuKGZ1bmN0aW9uICgkKSB7XG5cblx0ZnVuY3Rpb24gX2luaXRDb21wb25lbnQoaWQsIG9wdGlvbnMpIHtcblx0XHR2YXIgY2YgPSAnPGRpdiBpZD1cIicgKyBpZCArICdcIiBjbGFzcz1cImNvZGVmYWxzZS1maWxlXCI+JyArICcgICAgPGRpdiBjbGFzcz1cImNvZGVmYWxzZS1maWxlLWl0ZW0gZmlsZS1hZGRcIiBzdHlsZT1cImhlaWdodDogJyArIG9wdGlvbnMuaGVpZ2h0ICsgJzt3aWR0aDogJyArIG9wdGlvbnMud2lkdGggKyAnO1wiPicgKyAnICAgICAgICA8aSBjbGFzcz1cImNvZGVmYWxzZS1mb250IGljb24tYWRkXCIgc3R5bGU9XCJsaW5lLWhlaWdodDogJyArIG9wdGlvbnMuaGVpZ2h0ICsgJztcIj48L2k+JyArICcgICAgPC9kaXY+JyArICc8L2Rpdj4nO1xuXHRcdHJldHVybiBjZjtcblx0fVxuXG5cdGZ1bmN0aW9uIF9jcmVhdGVGaWxlSXRlbShvcHRpb25zLCBjb2RlZmFsc2VJZCwgc3JjKSB7XG5cdFx0dmFyIGl0ZW0gPSAnPGRpdiBjbGFzcz1cImNvZGVmYWxzZS1maWxlLWl0ZW0gZmlsZS1pdGVtXCIgc3R5bGU9XCJoZWlnaHQ6ICcgKyBvcHRpb25zLmhlaWdodCArICc7d2lkdGg6ICcgKyBvcHRpb25zLndpZHRoICsgJztcIj4nICsgJyAgIDxkaXYgY2xhc3M9XCJjb2RlZmFsc2UtZmlsZS1vcGVyYXRpb25cIiBzdHlsZT1cIndpZHRoOiAnICsgb3B0aW9ucy53aWR0aCArICc7XCI+JyArICcgICAgICA8aSBjbGFzcz1cImNvZGVmYWxzZS1maWxlLWRlbCBjb2RlZmFsc2UtZm9udCBpY29uLWRlbGV0ZVwiPjwvaT4nICsgJyAgICAgIDxpIGNsYXNzPVwiY29kZWZhbHNlLWZpbGUteXVsYW4gY29kZWZhbHNlLWZvbnQgaWNvbi15dWxhblwiPjwvaT4nICsgJyAgIDwvZGl2PicgKyAnICAgPGltZyBzcmM9XCInICsgc3JjICsgJ1wiIC8+JyArICcgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCInICsgb3B0aW9ucy5uYW1lICsgJ1wiIHZhbHVlPVwiJyArIHNyYyArICdcIi8+JyArICc8L2Rpdj4nO1xuXHRcdHZhciBhZGREb20gPSAkKCcjJyArIGNvZGVmYWxzZUlkKS5maW5kKCcuZmlsZS1hZGQnKTtcblx0XHRhZGREb20uYmVmb3JlKGl0ZW0pO1xuXG5cdFx0Ly/nu5Hlrpptb2RhYWxcblx0XHRhZGREb20ucHJldigpLmZpbmQoJy5jb2RlZmFsc2UtZmlsZS15dWxhbicpLm1vZGFhbCh7XG5cdFx0XHR0eXBlOiAnaW1hZ2UnLFxuXHRcdFx0Y29udGVudF9zb3VyY2U6IHNyY1xuXHRcdH0pO1xuXHR9XG5cblx0JC5mbi5jb2RlZmFsc2VGaWxlID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR2YXIgX3RoaXMgPSAkKHRoaXMpO1xuXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0d2lkdGg6ICcyMDBweCcsXG5cdFx0XHRoZWlnaHQ6ICcyMDBweCcsXG5cdFx0XHRuYW1lOiAnY29kZWZhbHNlRmlsZSdcblx0XHR9O1xuXHRcdHZhciBmaWxlT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cdFx0Ly/nlJ/miJDllK/kuIDlr7nlupRJRFxuXHRcdHZhciBjb2RlZmFsc2VJZCA9ICdjb2RlZmFsc2UtZmlsZS0nICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCArICcnKTtcblxuXHRcdF90aGlzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZmlsZXMgPSAkKF90aGlzMilbMF0uZmlsZXM7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBmaWxlID0gZmlsZXNbaV07XG5cdFx0XHRcdC8v6K+75Y+W5paH5Lu2XG5cblx0XHRcdFx0dmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cdFx0XHRcdGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRfY3JlYXRlRmlsZUl0ZW0oZmlsZU9wdGlvbnMsIGNvZGVmYWxzZUlkLCBlLnRhcmdldC5yZXN1bHQpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIG1ldGhvZHMgPSB7XG5cdFx0XHRfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdzdGFydCBjb2RlZmFsc2UgZmlsZS4uLi4uLicpO1xuXHRcdFx0XHQvL+makOiXj+aWh+S7tumAieaLqVxuXHRcdFx0XHRfdGhpcy5hdHRyKFwic3R5bGVcIiwgXCJkaXNwbGF5Om5vbmVcIik7XG5cdFx0XHRcdC8v5Yid5aeL5YyW5paH5Lu26YCJ5oup57uE5Lu2XG5cdFx0XHRcdF90aGlzLmFmdGVyKF9pbml0Q29tcG9uZW50KGNvZGVmYWxzZUlkLCBmaWxlT3B0aW9ucykpO1xuXHRcdFx0XHQvL+ebkeWQrOa3u+WKoOS6i+S7tlxuXHRcdFx0XHQkKCcuZmlsZS1hZGQ+aScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRfdGhpcy50cmlnZ2VyKCdjbGljaycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly/nm5HlkKzmlofku7bpobnkuovku7Zcblx0XHRcdFx0JCgnIycgKyBjb2RlZmFsc2VJZCkub24oJ21vdXNlZW50ZXInLCAnLmZpbGUtaXRlbScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgZmlsZU9wZXJhdGlvbiA9ICQodGhpcykuZmluZCgnLmNvZGVmYWxzZS1maWxlLW9wZXJhdGlvbicpO1xuXHRcdFx0XHRcdGZpbGVPcGVyYXRpb24uc2hvdygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0JCgnIycgKyBjb2RlZmFsc2VJZCkub24oJ21vdXNlbGVhdmUnLCAnLmZpbGUtaXRlbScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgZmlsZU9wZXJhdGlvbiA9ICQodGhpcykuZmluZCgnLmNvZGVmYWxzZS1maWxlLW9wZXJhdGlvbicpO1xuXHRcdFx0XHRcdGZpbGVPcGVyYXRpb24uaGlkZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly/lm77niYfliKDpmaRcblx0XHRcdFx0JCgnIycgKyBjb2RlZmFsc2VJZCkub24oJ2NsaWNrJywgJy5jb2RlZmFsc2UtZmlsZS1kZWwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIGZpbGVEb20gPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpO1xuXHRcdFx0XHRcdHZhciBpbWcgPSBmaWxlRG9tLmZpbmQoJ2ltZycpO1xuXHRcdFx0XHRcdHZhciBzcmMgPSBpbWcuYXR0cignc3JjJyk7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soc3JjKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZmlsZURvbS5yZW1vdmUoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0YWRhcHRlcjogZnVuY3Rpb24gYWRhcHRlcihpbWFnZXMpIHtcblx0XHRcdFx0aWYgKCh0eXBlb2YgaW1hZ2VzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihpbWFnZXMpKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRcdHZhciBsZW4gPSBpbWFnZXMubGVuZ3RoO1xuXHRcdFx0XHRcdGlmIChsZW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignYWRhcHRlciBwYXJhbXMgZXJyb3IuJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRfY3JlYXRlRmlsZUl0ZW0oZmlsZU9wdGlvbnMsIGNvZGVmYWxzZUlkLCBpbWFnZXNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0bWV0aG9kcy5faW5pdCgpO1xuXHRcdHJldHVybiBtZXRob2RzO1xuXHR9O1xufSkoalF1ZXJ5KTsiXX0=

"use strict";!function(f){function d(e,t,n){if(0<n.length){f("#"+e).find(".codefalse-input-options").show();var a=f("#"+e).find(".codefalse-input-options>ul");for(var i in n){var o=n[i],l=o[t.key],s="";for(var u in t.value){var r=t.value[u];""!=s&&(s+=t.separator),s+=o[r]}a.append('<li value="'+l+'">'+s+"</li>")}}}function p(e){f("#"+e+">.codefalse-input-options").hide().find("ul").empty()}f.fn.codefalseInput=function(e,s){var u=f(this),r={placeholder:"Please search...",key:"id",value:["name"],separator:"-",delay:200,ajax:{type:"GET",url:""},allowInputText:!1,searchName:""};f.extend(r,e);var c="",o="",t={init:function(){u.attr("type","hidden");var e=parseInt(1e5*Math.random()+"");o="codefalse-search"+e;var t=u.attr("class"),n='<input id="'+o+'" name="'+r.searchName+'" type="text" class="'+t+'" placeholder="'+r.placeholder+'" autocomplete="off"/>';u.after(n);var a='<div id="'+(c="codefalse-input"+e)+'" class="codefalse-input">        <div class="codefalse-input-options">            <ul></ul>        </div>    </div>';f("#"+o).after(a),f("#"+o).on("input",function(){u.val(""),p(c);var o=f(this),l=o.val();setTimeout(function(){var t,n,e,a,i=o.val();""!=i&&(l==i&&(clearTimeout(),null!=s&&"function"==typeof s&&s(i),null!=r.ajax.url&&""!=r.ajax.url&&(t=c,e=i,a=(n=r).ajax,f.ajax({type:a.type,url:a.url,contentType:"json",data:{codefalse:e},success:function(e){d(t,n,e)}}))))},r.delay)});var i=!0;return f("#"+o).on("blur",function(){i&&(u.val()||r.allowInputText||f(this).val(""),f("#"+c).find(".codefalse-input-options").hide())}),f("#"+c+">.codefalse-input-options").on("mouseenter",function(){i=!1}),f("#"+c+">.codefalse-input-options").on("mouseleave",function(){i=!0}),f("#"+c+">.codefalse-input-options>ul").on("click","li",function(){var e=f(this).val(),t=f(this).text();u.val(e),f("#"+o).val(t),f("#"+c).find(".codefalse-input-options").hide()}),f("#"+o).on("keypress",function(e){13==e.keyCode&&f("#"+c+">.codefalse-input-options>ul").find("li:first").trigger("click")}),this},adapter:function(e){return d(c,r,e),this},reset:function(e,t){return u.val(e),f("#"+o).val(t),this},show:function(){return f("#"+o).show(),this},hide:function(){return f("#"+o).hide(),f("#"+o).val(""),u.val(""),p(c),this}};return t.init(),t}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNmLWlucHV0LmpzIl0sIm5hbWVzIjpbIiQiLCJfYWRhcHRlciIsInNob3dJZCIsIm9wdGlvbnMiLCJkYXRhIiwibGVuZ3RoIiwiZmluZCIsInNob3ciLCJ1bCIsIm4iLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImkiLCJuYW1lIiwic2VwYXJhdG9yIiwiYXBwZW5kIiwiY2xlYXJPcHRpb25zIiwiaW5wdXRJZCIsImhpZGUiLCJlbXB0eSIsImZuIiwiY29kZWZhbHNlSW5wdXQiLCJjaGFuZ2UiLCJfdGhpcyIsInRoaXMiLCJkZWZhdWx0cyIsInBsYWNlaG9sZGVyIiwiZGVsYXkiLCJhamF4IiwidHlwZSIsInVybCIsImFsbG93SW5wdXRUZXh0Iiwic2VhcmNoTmFtZSIsImV4dGVuZCIsInNlYXJjaElkIiwibWV0aG9kcyIsImluaXQiLCJhdHRyIiwicmFuZG9tIiwicGFyc2VJbnQiLCJNYXRoIiwiY2xhenoiLCJzZWFyY2hJbnB1dCIsImFmdGVyIiwic2VsZWN0T3B0aW9uSHRtbCIsIm9uIiwidmFsIiwic2VsZiIsInR4dDEiLCJzZXRUaW1lb3V0IiwicGFyYW1zIiwidHh0MiIsImNsZWFyVGltZW91dCIsInVuZGVmaW5lZCIsImNvbnRlbnRUeXBlIiwiY29kZWZhbHNlIiwic3VjY2VzcyIsImlzSGlkZSIsInRleHQiLCJldmVudCIsImtleUNvZGUiLCJ0cmlnZ2VyIiwiYWRhcHRlciIsInJlc2V0IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxjQUtBLFNBQVdBLEdBa0JQLFNBQVNDLEVBQVNDLEVBQVFDLEVBQVNDLEdBQy9CLEdBQWtCLEVBQWRBLEVBQUtDLE9BQVksQ0FDakJMLEVBQUUsSUFBTUUsR0FBUUksS0FBSyw0QkFBNEJDLE9BQ2pELElBQUlDLEVBQUtSLEVBQUUsSUFBTUUsR0FBUUksS0FBSywrQkFDOUIsSUFBSyxJQUFJRyxLQUFLTCxFQUFNLENBQ2hCLElBQUlNLEVBQU1OLEVBQUtLLEdBQ1hFLEVBQU1ELEVBQUlQLEVBQVFRLEtBQ2xCQyxF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R0FBVVcsR0FBRyxXQUFZLFNBQVVjLEdBQ2xCLElBQWpCQSxFQUFNQyxTQUNON0QsRUFBRSxJQUFNa0IsRUFBVSxnQ0FBZ0NaLEtBQUssWUFBWXdELFFBQVEsV0FHNUVyQyxNQUVYc0MsUUFBUyxTQUFpQjNELEdBR3RCLE9BREFILEVBQVNpQixFQUFTUSxFQUFVdEIsR0FDckJxQixNQUVYdUMsTUFBTyxTQUFlckQsRUFBS0MsR0FJdkIsT0FGQVksRUFBTXVCLElBQUlwQyxHQUNWWCxFQUFFLElBQU1tQyxHQUFVWSxJQUFJbkMsR0FDZmEsTUFFWGxCLEtBQU0sV0FFRixPQURBUCxFQUFFLElBQU1tQyxHQUFVNUIsT0FDWGtCLE1BRVhOLEtBQU0sV0FNRixPQUxBbkIsRUFBRSxJQUFNbUMsR0FBVWhCLE9BQ2xCbkIsRUFBRSxJQUFNbUMsR0FBVVksSUFBSSxJQUV0QnZCLEVBQU11QixJQUFJLElBQ1Y5QixFQUFhQyxHQUNOTyxPQUtmLE9BREFXLEVBQVFDLE9BQ0RELEdBaEtmLENBa0tHNkIiLCJmaWxlIjoiY2YtaW5wdXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIGFqYXggcmVxdWVzdCBkYXRhIGJ5IGlucHV0W3R5cGU9XCJ0ZXh0XCJdXG4gKi9cbihmdW5jdGlvbiAoJCkge1xuICAgIC8vcHJpdmF0ZSBtZXRob2RcbiAgICBmdW5jdGlvbiByZXF1ZXN0RGF0YShzaG93SWQsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICB2YXIgYWpheCA9IG9wdGlvbnMuYWpheDtcbiAgICAgICAgY29uc29sZS5sb2coYWpheC51cmwgKyAnOiBzZW5kIGFqYXguLi4nKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IGFqYXgudHlwZSxcbiAgICAgICAgICAgIHVybDogYWpheC51cmwsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvZGVmYWxzZTogcGFyYW1zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJyMnICsgc2hvd0lkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5zaG93KCk7XG4gICAgICAgICAgICB2YXIgdWwgPSAkKCcjJyArIHNob3dJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zPnVsJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gZGF0YVtuXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb2JqW29wdGlvbnMua2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLnZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9wdGlvbnMuc2VwYXJhdG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9ialtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdWwuYXBwZW5kKCc8bGkgdmFsdWU9XCInICsga2V5ICsgJ1wiPicgKyB2YWx1ZSArICc8L2xpPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJPcHRpb25zKGlucHV0SWQpIHtcbiAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCkuZmluZCgndWwnKS5lbXB0eSgpO1xuICAgIH1cblxuICAgICQuZm4uY29kZWZhbHNlSW5wdXQgPSBmdW5jdGlvbiAob3B0aW9ucywgY2hhbmdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb2RlZmFsc2UgaW5wdXQgc3RhcnRpbmcuLi4nKTtcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKTtcbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnUGxlYXNlIHNlYXJjaC4uLicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgICAgICB2YWx1ZTogWyduYW1lJ10sXG4gICAgICAgICAgICBzZXBhcmF0b3I6ICctJyxcbiAgICAgICAgICAgIGRlbGF5OiAyMDAsXG4gICAgICAgICAgICBhamF4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG93SW5wdXRUZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNlYXJjaE5hbWU6ICcnXG4gICAgICAgIH07XG4gICAgICAgICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgaW5wdXRJZCA9ICcnO1xuICAgICAgICB2YXIgc2VhcmNoSWQgPSAnJztcbiAgICAgICAgdmFyIG1ldGhvZHMgPSB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb2RlZmFsc2UgaW5wdXQgaW5pdC4uLicpO1xuICAgICAgICAgICAgICAgIC8vIGhpZGRlbiBpbnB1dFxuICAgICAgICAgICAgICAgIF90aGlzLmF0dHIoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgLy8gY2xvbmUgaW5wdXRcbiAgICAgICAgICAgICAgICB2YXIgcmFuZG9tID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCArICcnKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hJZCA9ICdjb2RlZmFsc2Utc2VhcmNoJyArIHJhbmRvbTtcbiAgICAgICAgICAgICAgICB2YXIgY2xhenogPSBfdGhpcy5hdHRyKCdjbGFzcycpO1xuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hJbnB1dCA9ICc8aW5wdXQgaWQ9XCInICsgc2VhcmNoSWQgKyAnXCIgbmFtZT1cIicgKyBkZWZhdWx0cy5zZWFyY2hOYW1lICsgJ1wiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCInICsgY2xhenogKyAnXCIgcGxhY2Vob2xkZXI9XCInICsgZGVmYXVsdHMucGxhY2Vob2xkZXIgKyAnXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIvPic7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWZ0ZXIoc2VhcmNoSW5wdXQpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBzZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgICAgICAgaW5wdXRJZCA9ICdjb2RlZmFsc2UtaW5wdXQnICsgcmFuZG9tO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RPcHRpb25IdG1sID0gJzxkaXYgaWQ9XCInICsgaW5wdXRJZCArICdcIiBjbGFzcz1cImNvZGVmYWxzZS1pbnB1dFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29kZWZhbHNlLWlucHV0LW9wdGlvbnNcIj4nICsgJyAgICAgICAgICAgIDx1bD48L3VsPicgKyAnICAgICAgICA8L2Rpdj4nICsgJyAgICA8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLmFmdGVyKHNlbGVjdE9wdGlvbkh0bWwpO1xuICAgICAgICAgICAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGlucHV0XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9ucyhpbnB1dElkKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eHQxID0gc2VsZi52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0MiA9IHNlbGYudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHh0MiA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcrKysrKysrKycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eHQxID09IHR4dDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGwgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZSAhPSB1bmRlZmluZWQgJiYgdHlwZW9mIGNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSh0eHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRzLmFqYXgudXJsICE9IG51bGwgJiYgZGVmYXVsdHMuYWpheC51cmwgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGEoaW5wdXRJZCwgZGVmYXVsdHMsIHR4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdHMuZGVsYXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbCgpICYmICFkZWZhdWx0cy5hbGxvd0lucHV0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucz51bCcpLm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnZhbCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vZW50ZXIga2V5ZG93blxuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnM+dWwnKS5maW5kKCdsaTpmaXJzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGFwdGVyOiBmdW5jdGlvbiBhZGFwdGVyKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYXBhcHRlciB1cGRhdGUuLi4nKTtcbiAgICAgICAgICAgICAgICBfYWRhcHRlcihpbnB1dElkLCBkZWZhdWx0cywgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzZXQgY29kZWZhbHNlLi4uJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMudmFsKGtleSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkudmFsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnNob3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwoJycpO1xuICAgICAgICAgICAgICAgIC8vcmVzZXQgaW5wdXRcbiAgICAgICAgICAgICAgICBfdGhpcy52YWwoJycpO1xuICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9ucyhpbnB1dElkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBtZXRob2RzLmluaXQoKTtcbiAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgfTtcbn0pKGpRdWVyeSk7Il19
