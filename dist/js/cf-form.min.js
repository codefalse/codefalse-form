"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(s){function f(e,t,i){var n='<div class="codefalse-file-item file-item" style="height: '+e.height+";width: "+e.width+';">   <div class="codefalse-file-operation" style="width: '+e.width+';">      <i class="codefalse-file-del codefalse-font icon-delete"></i>      <i class="codefalse-file-yulan codefalse-font icon-yulan"></i>   </div>   <img src="'+i+'" />   <input type="hidden" name="'+e.name+'" value="'+i+'"/></div>',o=s("#"+t).find(".file-add");o.before(n),o.prev().find(".codefalse-file-yulan").modaal({type:"image",content_source:i})}s.fn.codefalseFile=function(e,i){var o=this,t=s(this),a=s.extend({},{width:"200px",height:"200px",name:"codefalseFile"},e),l="codefalse-file-"+parseInt(1e5*Math.random()+"");t.on("change",function(){for(var e=s(o)[0].files,t=0;t<e.length;t++){var i=e[t],n=new FileReader;n.readAsDataURL(i),n.onload=function(e){f(a,l,e.target.result)}}});var n={_init:function(){var e;console.log("start codefalse file......"),t.attr("style","display:none"),t.after('<div id="'+l+'" class="codefalse-file">    <div class="codefalse-file-item file-add" style="height: '+(e=a).height+";width: "+e.width+';">        <i class="codefalse-font icon-add" style="line-height: '+e.height+';"></i>    </div></div>'),s(".file-add>i").on("click",function(){t.trigger("click")}),s("#"+l).on("mouseenter",".file-item",function(){s(this).find(".codefalse-file-operation").show()}),s("#"+l).on("mouseleave",".file-item",function(){s(this).find(".codefalse-file-operation").hide()}),s("#"+l).on("click",".codefalse-file-del",function(){var e=s(this).parent().parent(),t=e.find("img").attr("src");"function"==typeof i&&i(t),e.remove()})},adapter:function(e){if("object"===_typeof(e)){if(void 0===e.length)return void console.error("adapter params error.");for(var t=0;t<e.length;t++)f(a,l,e[t])}}};return n._init(),n}}(jQuery),function(d){function u(e,t,i){if(0<i.length){d("#"+e).find(".codefalse-input-options").show();var n=d("#"+e).find(".codefalse-input-options>ul");for(var o in i){var a=i[o],l=a[t.key],s="";for(var f in t.value){var r=t.value[f];""!=s&&(s+=t.separator),s+=a[r]}n.append('<li value="'+l+'">'+s+"</li>")}}}function p(e){d("#"+e+">.codefalse-input-options").hide().find("ul").empty()}d.fn.codefalseInput=function(e,s){console.log("codefalse input starting...");var f=d(this),r={placeholder:"Please search...",key:"id",value:["name"],separator:"-",delay:200,ajax:{type:"GET",url:""},allowInputText:!1,searchName:""};d.extend(r,e);var c="",a="",t={init:function(){console.log("codefalse input init..."),f.attr("type","hidden");var e=parseInt(1e5*Math.random()+"");a="codefalse-search"+e;var t=f.attr("class"),i='<input id="'+a+'" name="'+r.searchName+'" type="text" class="'+t+'" placeholder="'+r.placeholder+'" autocomplete="off"/>';f.after(i);var n='<div id="'+(c="codefalse-input"+e)+'" class="codefalse-input">        <div class="codefalse-input-options">            <ul></ul>        </div>    </div>';d("#"+a).after(n),d("#"+a).on("input",function(){f.val(""),p(c);var a=d(this),l=a.val();setTimeout(function(){var t,i,e,n,o=a.val();""!=o?l==o&&(clearTimeout(),null!=s&&"function"==typeof s&&s(o),null!=r.ajax.url&&""!=r.ajax.url&&(t=c,e=o,n=(i=r).ajax,console.log(n.url+": send ajax..."),d.ajax({type:n.type,url:n.url,contentType:"json",data:{codefalse:e},success:function(e){u(t,i,e)}}))):console.log("++++++++")},r.delay)});var o=!0;return d("#"+a).on("blur",function(){o&&(f.val()||r.allowInputText||d(this).val(""),d("#"+c).find(".codefalse-input-options").hide())}),d("#"+c+">.codefalse-input-options").on("mouseenter",function(){o=!1}),d("#"+c+">.codefalse-input-options").on("mouseleave",function(){o=!0}),d("#"+c+">.codefalse-input-options>ul").on("click","li",function(){var e=d(this).val(),t=d(this).text();f.val(e),d("#"+a).val(t),d("#"+c).find(".codefalse-input-options").hide()}),d("#"+a).on("keypress",function(e){13==e.keyCode&&d("#"+c+">.codefalse-input-options>ul").find("li:first").trigger("click")}),this},adapter:function(e){return console.log("apapter update..."),u(c,r,e),this},reset:function(e,t){return console.log("reset codefalse..."),f.val(e),d("#"+a).val(t),this},show:function(){return d("#"+a).show(),this},hide:function(){return d("#"+a).hide(),d("#"+a).val(""),f.val(""),p(c),this}};return t.init(),t}}(jQuery);
//# sourceMappingURL=cf-form.min.js.map