"use strict";!function(f){function d(e,t,n){if(0<n.length){f("#"+e).find(".codefalse-input-options").show();var a=f("#"+e).find(".codefalse-input-options>ul");for(var i in n){var o=n[i],l=o[t.key],s="";for(var u in t.value){var r=t.value[u];""!=s&&(s+=t.separator),s+=o[r]}a.append('<li value="'+l+'">'+s+"</li>")}}}function p(e){f("#"+e+">.codefalse-input-options").hide().find("ul").empty()}f.fn.codefalseInput=function(e,s){var u=f(this),r={placeholder:"Please search...",key:"id",value:["name"],separator:"-",delay:200,ajax:{type:"GET",url:""},allowInputText:!1,searchName:""};f.extend(r,e);var c="",o="",t={init:function(){u.attr("type","hidden");var e=parseInt(1e5*Math.random()+"");o="codefalse-search"+e;var t=u.attr("class"),n='<input id="'+o+'" name="'+r.searchName+'" type="text" class="'+t+'" placeholder="'+r.placeholder+'"/>';u.after(n);var a='<div id="'+(c="codefalse-input"+e)+'" class="codefalse-input">        <div class="codefalse-input-options">            <ul></ul>        </div>    </div>';f("#"+o).after(a),f("#"+o).on("input",function(){u.val(""),p(c);var o=f(this),l=o.val();setTimeout(function(){var t,n,e,a,i=o.val();""!=i&&(l==i&&(clearTimeout(),null!=s&&"function"==typeof s&&s(i),null!=r.ajax.url&&""!=r.ajax.url&&(t=c,e=i,a=(n=r).ajax,f.ajax({type:a.type,url:a.url,contentType:"json",data:{codefalse:e},success:function(e){d(t,n,e)}}))))},r.delay)});var i=!0;return f("#"+o).on("blur",function(){i&&(u.val()||r.allowInputText||f(this).val(""),f("#"+c).find(".codefalse-input-options").hide())}),f("#"+c+">.codefalse-input-options").on("mouseenter",function(){i=!1}),f("#"+c+">.codefalse-input-options").on("mouseleave",function(){i=!0}),f("#"+c+">.codefalse-input-options>ul").on("click","li",function(){var e=f(this).val(),t=f(this).text();u.val(e),f("#"+o).val(t),f("#"+c).find(".codefalse-input-options").hide()}),f("#"+o).on("keypress",function(e){13==e.keyCode&&f("#"+c+">.codefalse-input-options>ul").find("li:first").trigger("click")}),this},adapter:function(e){return d(c,r,e),this},reset:function(e,t){return u.val(e),f("#"+o).val(t),this},show:function(){return f("#"+o).show(),this},hide:function(){return f("#"+o).hide(),f("#"+o).val(""),u.val(""),p(c),this}};return t.init(),t}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIl0sIm5hbWVzIjpbIiQiLCJfYWRhcHRlciIsInNob3dJZCIsIm9wdGlvbnMiLCJkYXRhIiwibGVuZ3RoIiwiZmluZCIsInNob3ciLCJ1bCIsIm4iLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImkiLCJuYW1lIiwic2VwYXJhdG9yIiwiYXBwZW5kIiwiY2xlYXJPcHRpb25zIiwiaW5wdXRJZCIsImhpZGUiLCJlbXB0eSIsImZuIiwiY29kZWZhbHNlSW5wdXQiLCJjaGFuZ2UiLCJfdGhpcyIsInRoaXMiLCJkZWZhdWx0cyIsInBsYWNlaG9sZGVyIiwiZGVsYXkiLCJhamF4IiwidHlwZSIsInVybCIsImFsbG93SW5wdXRUZXh0Iiwic2VhcmNoTmFtZSIsImV4dGVuZCIsInNlYXJjaElkIiwibWV0aG9kcyIsImluaXQiLCJhdHRyIiwicmFuZG9tIiwicGFyc2VJbnQiLCJNYXRoIiwiY2xhenoiLCJzZWFyY2hJbnB1dCIsImFmdGVyIiwic2VsZWN0T3B0aW9uSHRtbCIsIm9uIiwidmFsIiwic2VsZiIsInR4dDEiLCJzZXRUaW1lb3V0IiwicGFyYW1zIiwidHh0MiIsImNsZWFyVGltZW91dCIsInVuZGVmaW5lZCIsImNvbnRlbnRUeXBlIiwiY29kZWZhbHNlIiwic3VjY2VzcyIsImlzSGlkZSIsInRleHQiLCJldmVudCIsImtleUNvZGUiLCJ0cmlnZ2VyIiwiYWRhcHRlciIsInJlc2V0IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxjQUtBLFNBQVdBLEdBa0JQLFNBQVNDLEVBQVNDLEVBQVFDLEVBQVNDLEdBQy9CLEdBQWtCLEVBQWRBLEVBQUtDLE9BQVksQ0FDakJMLEVBQUUsSUFBTUUsR0FBUUksS0FBSyw0QkFBNEJDLE9BQ2pELElBQUlDLEVBQUtSLEVBQUUsSUFBTUUsR0FBUUksS0FBSywrQkFDOUIsSUFBSyxJQUFJRyxLQUFLTCxFQUFNLENBQ2hCLElBQUlNLEVBQU1OLEVBQUtLLEdBQ1hFLEVBQU1ELEVBQUlQLEVBQVFRLEtBQ2xCQyxFQUFR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VyxHQUFHLFdBQVksU0FBVWMsR0FDbEIsSUFBakJBLEVBQU1DLFNBQ043RCxFQUFFLElBQU1rQixFQUFVLGdDQUFnQ1osS0FBSyxZQUFZd0QsUUFBUSxXQUc1RXJDLE1BRVhzQyxRQUFTLFNBQWlCM0QsR0FHdEIsT0FEQUgsRUFBU2lCLEVBQVNRLEVBQVV0QixHQUNyQnFCLE1BRVh1QyxNQUFPLFNBQWVyRCxFQUFLQyxHQUl2QixPQUZBWSxFQUFNdUIsSUFBSXBDLEdBQ1ZYLEVBQUUsSUFBTW1DLEdBQVVZLElBQUluQyxHQUNmYSxNQUVYbEIsS0FBTSxXQUVGLE9BREFQLEVBQUUsSUFBTW1DLEdBQVU1QixPQUNYa0IsTUFFWE4sS0FBTSxXQU1GLE9BTEFuQixFQUFFLElBQU1tQyxHQUFVaEIsT0FDbEJuQixFQUFFLElBQU1tQyxHQUFVWSxJQUFJLElBRXRCdkIsRUFBTXVCLElBQUksSUFDVjlCLEVBQWFDLEdBQ05PLE9BS2YsT0FEQVcsRUFBUUMsT0FDREQsR0FoS2YsQ0FrS0c2QiIsImZpbGUiOiJpbnB1dC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxyXG4gKiBhamF4IHJlcXVlc3QgZGF0YSBieSBpbnB1dFt0eXBlPVwidGV4dFwiXVxyXG4gKi9cbihmdW5jdGlvbiAoJCkge1xuICAgIC8vcHJpdmF0ZSBtZXRob2RcbiAgICBmdW5jdGlvbiByZXF1ZXN0RGF0YShzaG93SWQsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICB2YXIgYWpheCA9IG9wdGlvbnMuYWpheDtcbiAgICAgICAgY29uc29sZS5sb2coYWpheC51cmwgKyAnOiBzZW5kIGFqYXguLi4nKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IGFqYXgudHlwZSxcbiAgICAgICAgICAgIHVybDogYWpheC51cmwsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvZGVmYWxzZTogcGFyYW1zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJyMnICsgc2hvd0lkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5zaG93KCk7XG4gICAgICAgICAgICB2YXIgdWwgPSAkKCcjJyArIHNob3dJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zPnVsJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gZGF0YVtuXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb2JqW29wdGlvbnMua2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLnZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9wdGlvbnMuc2VwYXJhdG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9ialtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdWwuYXBwZW5kKCc8bGkgdmFsdWU9XCInICsga2V5ICsgJ1wiPicgKyB2YWx1ZSArICc8L2xpPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJPcHRpb25zKGlucHV0SWQpIHtcbiAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCkuZmluZCgndWwnKS5lbXB0eSgpO1xuICAgIH1cblxuICAgICQuZm4uY29kZWZhbHNlSW5wdXQgPSBmdW5jdGlvbiAob3B0aW9ucywgY2hhbmdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb2RlZmFsc2UgaW5wdXQgc3RhcnRpbmcuLi4nKTtcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKTtcbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnUGxlYXNlIHNlYXJjaC4uLicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgICAgICB2YWx1ZTogWyduYW1lJ10sXG4gICAgICAgICAgICBzZXBhcmF0b3I6ICctJyxcbiAgICAgICAgICAgIGRlbGF5OiAyMDAsXG4gICAgICAgICAgICBhamF4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG93SW5wdXRUZXh0OiBmYWxzZSxcbiAgICAgICAgICAgIHNlYXJjaE5hbWU6ICcnXG4gICAgICAgIH07XG4gICAgICAgICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgaW5wdXRJZCA9ICcnO1xuICAgICAgICB2YXIgc2VhcmNoSWQgPSAnJztcbiAgICAgICAgdmFyIG1ldGhvZHMgPSB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb2RlZmFsc2UgaW5wdXQgaW5pdC4uLicpO1xuICAgICAgICAgICAgICAgIC8vIGhpZGRlbiBpbnB1dFxuICAgICAgICAgICAgICAgIF90aGlzLmF0dHIoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgLy8gY2xvbmUgaW5wdXRcbiAgICAgICAgICAgICAgICB2YXIgcmFuZG9tID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCArICcnKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hJZCA9ICdjb2RlZmFsc2Utc2VhcmNoJyArIHJhbmRvbTtcbiAgICAgICAgICAgICAgICB2YXIgY2xhenogPSBfdGhpcy5hdHRyKCdjbGFzcycpO1xuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hJbnB1dCA9ICc8aW5wdXQgaWQ9XCInICsgc2VhcmNoSWQgKyAnXCIgbmFtZT1cIicgKyBkZWZhdWx0cy5zZWFyY2hOYW1lICsgJ1wiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCInICsgY2xhenogKyAnXCIgcGxhY2Vob2xkZXI9XCInICsgZGVmYXVsdHMucGxhY2Vob2xkZXIgKyAnXCIvPic7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWZ0ZXIoc2VhcmNoSW5wdXQpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBzZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgICAgICAgaW5wdXRJZCA9ICdjb2RlZmFsc2UtaW5wdXQnICsgcmFuZG9tO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RPcHRpb25IdG1sID0gJzxkaXYgaWQ9XCInICsgaW5wdXRJZCArICdcIiBjbGFzcz1cImNvZGVmYWxzZS1pbnB1dFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29kZWZhbHNlLWlucHV0LW9wdGlvbnNcIj4nICsgJyAgICAgICAgICAgIDx1bD48L3VsPicgKyAnICAgICAgICA8L2Rpdj4nICsgJyAgICA8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLmFmdGVyKHNlbGVjdE9wdGlvbkh0bWwpO1xuICAgICAgICAgICAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGlucHV0XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9ucyhpbnB1dElkKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eHQxID0gc2VsZi52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0MiA9IHNlbGYudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHh0MiA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcrKysrKysrKycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eHQxID09IHR4dDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGwgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZSAhPSB1bmRlZmluZWQgJiYgdHlwZW9mIGNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSh0eHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRzLmFqYXgudXJsICE9IG51bGwgJiYgZGVmYXVsdHMuYWpheC51cmwgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGEoaW5wdXRJZCwgZGVmYXVsdHMsIHR4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdHMuZGVsYXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbCgpICYmICFkZWZhdWx0cy5hbGxvd0lucHV0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucz51bCcpLm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnZhbCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vZW50ZXIga2V5ZG93blxuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnM+dWwnKS5maW5kKCdsaTpmaXJzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGFwdGVyOiBmdW5jdGlvbiBhZGFwdGVyKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYXBhcHRlciB1cGRhdGUuLi4nKTtcbiAgICAgICAgICAgICAgICBfYWRhcHRlcihpbnB1dElkLCBkZWZhdWx0cywgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzZXQgY29kZWZhbHNlLi4uJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMudmFsKGtleSk7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkudmFsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnNob3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwoJycpO1xuICAgICAgICAgICAgICAgIC8vcmVzZXQgaW5wdXRcbiAgICAgICAgICAgICAgICBfdGhpcy52YWwoJycpO1xuICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9ucyhpbnB1dElkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBtZXRob2RzLmluaXQoKTtcbiAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgfTtcbn0pKGpRdWVyeSk7Il19
