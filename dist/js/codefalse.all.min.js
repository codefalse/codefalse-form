"use strict";!function(f){function d(e,n,t){if(0<t.length){f("#"+e).find(".codefalse-input-options").show();var i=f("#"+e).find(".codefalse-input-options>ul");for(var a in t){var o=t[a],l=o[n.key],s="";for(var u in n.value){var r=n.value[u];""!=s&&(s+=n.separator),s+=o[r]}i.append('<li value="'+l+'">'+s+"</li>")}}}function p(e){f("#"+e+">.codefalse-input-options").hide().find("ul").empty()}f.fn.codefalseInput=function(e,s){var u=f(this),r={placeholder:"Please search...",key:"id",value:["name"],separator:"-",delay:200,ajax:{type:"GET",url:""}};f.extend(r,e);var c="",o="",n={init:function(){u.attr("type","hidden");var e=parseInt(1e5*Math.random()+"");o="codefalse-search"+e;var n=u.attr("class"),t='<input id="'+o+'" type="text" class="'+n+'" placeholder="'+r.placeholder+'"/>';u.after(t);var i='<div id="'+(c="codefalse-input"+e)+'" class="codefalse-input">        <div class="codefalse-input-options">            <ul></ul>        </div>    </div>';f("#"+o).after(i),f("#"+o).on("input",function(){u.val(""),p(c);var o=f(this),l=o.val();setTimeout(function(){var n,t,e,i,a=o.val();""!=a&&(l==a&&(clearTimeout(),null!=s&&"function"==typeof s&&s(a),null!=r.ajax.url&&""!=r.ajax.url&&(n=c,e=a,i=(t=r).ajax,f.ajax({type:i.type,url:i.url,contentType:"json",data:{codefalse:e},success:function(e){d(n,t,e)}}))))},r.delay)});var a=!0;return f("#"+o).on("blur",function(){a&&(u.val()||f(this).val(""),f("#"+c).find(".codefalse-input-options").hide())}),f("#"+c+">.codefalse-input-options").on("mouseenter",function(){a=!1}),f("#"+c+">.codefalse-input-options").on("mouseleave",function(){a=!0}),f("#"+c+">.codefalse-input-options>ul").on("click","li",function(){var e=f(this).val(),n=f(this).text();u.val(e),f("#"+o).val(n),f("#"+c).find(".codefalse-input-options").hide()}),f("#"+o).on("keypress",function(e){13==e.keyCode&&f("#"+c+">.codefalse-input-options>ul").find("li:first").trigger("click")}),this},adapter:function(e){return d(c,r,e),this},reset:function(e,n){return u.val(e),f("#"+o).val(n),this},show:function(){return f("#"+o).show(),this},hide:function(){return f("#"+o).hide(),f("#"+o).val(""),u.val(""),p(c),this}};return n.init(),n}}(jQuery),jQuery;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvZGVmYWxzZS5hbGwuanMiXSwibmFtZXMiOlsiJCIsIl9hZGFwdGVyIiwic2hvd0lkIiwib3B0aW9ucyIsImRhdGEiLCJsZW5ndGgiLCJmaW5kIiwic2hvdyIsInVsIiwibiIsIm9iaiIsImtleSIsInZhbHVlIiwiaSIsIm5hbWUiLCJzZXBhcmF0b3IiLCJhcHBlbmQiLCJjbGVhck9wdGlvbnMiLCJpbnB1dElkIiwiaGlkZSIsImVtcHR5IiwiZm4iLCJjb2RlZmFsc2VJbnB1dCIsImNoYW5nZSIsIl90aGlzIiwidGhpcyIsImRlZmF1bHRzIiwicGxhY2Vob2xkZXIiLCJkZWxheSIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZXh0ZW5kIiwic2VhcmNoSWQiLCJtZXRob2RzIiwiaW5pdCIsImF0dHIiLCJyYW5kb20iLCJwYXJzZUludCIsIk1hdGgiLCJjbGF6eiIsInNlYXJjaElucHV0IiwiYWZ0ZXIiLCJzZWxlY3RPcHRpb25IdG1sIiwib24iLCJ2YWwiLCJzZWxmIiwidHh0MSIsInNldFRpbWVvdXQiLCJwYXJhbXMiLCJ0eHQyIiwiY2xlYXJUaW1lb3V0IiwidW5kZWZpbmVkIiwiY29udGVudFR5cGUiLCJjb2RlZmFsc2UiLCJzdWNjZXNzIiwiaXNIaWRlIiwidGV4dCIsImV2ZW50Iiwia2V5Q29kZSIsInRyaWdnZXIiLCJhZGFwdGVyIiwicmVzZXQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBLGNBS0EsU0FBV0EsR0FrQlAsU0FBU0MsRUFBU0MsRUFBUUMsRUFBU0MsR0FDL0IsR0FBa0IsRUFBZEEsRUFBS0MsT0FBWSxDQUNqQkwsRUFBRSxJQUFNRSxHQUFRSSxLQUFLLDRCQUE0QkMsT0FDakQsSUFBSUMsRUFBS1IsRUFBRSxJQUFNRSxHQUFRSSxLQUFLLCtCQUM5QixJQUFLLElBQUlHLEtBQUtMLEVBQU0sQ0FDaEIsSUFBSU0sRUFBTU4sRUFBS0ssR0FDWEUsRUFBTUQsRUFBSVAsRUFBUVEsS0FDbEJDLEVBQVEsR0FDWixJQUFLLElBQUlDLEtBQUtW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QUFRLFdBRzVFbkMsTUFFWG9DLFFBQVMsU0FBaUJ6RCxHQUd0QixPQURBSCxFQUFTaUIsRUFBU1EsRUFBVXRCLEdBQ3JCcUIsTUFFWHFDLE1BQU8sU0FBZW5ELEVBQUtDLEdBSXZCLE9BRkFZLEVBQU1xQixJQUFJbEMsR0FDVlgsRUFBRSxJQUFNaUMsR0FBVVksSUFBSWpDLEdBQ2ZhLE1BRVhsQixLQUFNLFdBRUYsT0FEQVAsRUFBRSxJQUFNaUMsR0FBVTFCLE9BQ1hrQixNQUVYTixLQUFNLFdBTUYsT0FMQW5CLEVBQUUsSUFBTWlDLEdBQVVkLE9BQ2xCbkIsRUFBRSxJQUFNaUMsR0FBVVksSUFBSSxJQUV0QnJCLEVBQU1xQixJQUFJLElBQ1Y1QixFQUFhQyxHQUNOTyxPQUtmLE9BREFTLEVBQVFDLE9BQ0RELEdBOUpmLENBZ0tHNkIsUUFNQUEiLCJmaWxlIjoiY29kZWZhbHNlLmFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxyXG4gKiBhamF4IHJlcXVlc3QgZGF0YSBieSBpbnB1dFt0eXBlPVwidGV4dFwiXVxyXG4gKi9cbihmdW5jdGlvbiAoJCkge1xuICAgIC8vcHJpdmF0ZSBtZXRob2RcbiAgICBmdW5jdGlvbiByZXF1ZXN0RGF0YShzaG93SWQsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICB2YXIgYWpheCA9IG9wdGlvbnMuYWpheDtcbiAgICAgICAgY29uc29sZS5sb2coYWpheC51cmwgKyAnOiBzZW5kIGFqYXguLi4nKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IGFqYXgudHlwZSxcbiAgICAgICAgICAgIHVybDogYWpheC51cmwsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvZGVmYWxzZTogcGFyYW1zXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FkYXB0ZXIoc2hvd0lkLCBvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJyMnICsgc2hvd0lkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5zaG93KCk7XG4gICAgICAgICAgICB2YXIgdWwgPSAkKCcjJyArIHNob3dJZCkuZmluZCgnLmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zPnVsJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gZGF0YVtuXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb2JqW29wdGlvbnMua2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLnZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9wdGlvbnMuc2VwYXJhdG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IG9ialtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdWwuYXBwZW5kKCc8bGkgdmFsdWU9XCInICsga2V5ICsgJ1wiPicgKyB2YWx1ZSArICc8L2xpPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJPcHRpb25zKGlucHV0SWQpIHtcbiAgICAgICAgJCgnIycgKyBpbnB1dElkICsgJz4uY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCkuZmluZCgndWwnKS5lbXB0eSgpO1xuICAgIH1cblxuICAgICQuZm4uY29kZWZhbHNlSW5wdXQgPSBmdW5jdGlvbiAob3B0aW9ucywgY2hhbmdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb2RlZmFsc2UgaW5wdXQgc3RhcnRpbmcuLi4nKTtcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKTtcbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnUGxlYXNlIHNlYXJjaC4uLicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgICAgICB2YWx1ZTogWyduYW1lJ10sXG4gICAgICAgICAgICBzZXBhcmF0b3I6ICctJyxcbiAgICAgICAgICAgIGRlbGF5OiAyMDAsXG4gICAgICAgICAgICBhamF4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIGlucHV0SWQgPSAnJztcbiAgICAgICAgdmFyIHNlYXJjaElkID0gJyc7XG4gICAgICAgIHZhciBtZXRob2RzID0ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY29kZWZhbHNlIGlucHV0IGluaXQuLi4nKTtcbiAgICAgICAgICAgICAgICAvLyBoaWRkZW4gaW5wdXRcbiAgICAgICAgICAgICAgICBfdGhpcy5hdHRyKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIC8vIGNsb25lIGlucHV0XG4gICAgICAgICAgICAgICAgdmFyIHJhbmRvbSA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAgKyAnJyk7XG4gICAgICAgICAgICAgICAgc2VhcmNoSWQgPSAnY29kZWZhbHNlLXNlYXJjaCcgKyByYW5kb207XG4gICAgICAgICAgICAgICAgdmFyIGNsYXp6ID0gX3RoaXMuYXR0cignY2xhc3MnKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoSW5wdXQgPSAnPGlucHV0IGlkPVwiJyArIHNlYXJjaElkICsgJ1wiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCInICsgY2xhenogKyAnXCIgcGxhY2Vob2xkZXI9XCInICsgZGVmYXVsdHMucGxhY2Vob2xkZXIgKyAnXCIvPic7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWZ0ZXIoc2VhcmNoSW5wdXQpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBzZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgICAgICAgaW5wdXRJZCA9ICdjb2RlZmFsc2UtaW5wdXQnICsgcmFuZG9tO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RPcHRpb25IdG1sID0gJzxkaXYgaWQ9XCInICsgaW5wdXRJZCArICdcIiBjbGFzcz1cImNvZGVmYWxzZS1pbnB1dFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiY29kZWZhbHNlLWlucHV0LW9wdGlvbnNcIj4nICsgJyAgICAgICAgICAgIDx1bD48L3VsPicgKyAnICAgICAgICA8L2Rpdj4nICsgJyAgICA8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLmFmdGVyKHNlbGVjdE9wdGlvbkh0bWwpO1xuICAgICAgICAgICAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGlucHV0XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9ucyhpbnB1dElkKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eHQxID0gc2VsZi52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0MiA9IHNlbGYudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHh0MiA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcrKysrKysrKycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eHQxID09IHR4dDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGwgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZSAhPSB1bmRlZmluZWQgJiYgdHlwZW9mIGNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZSh0eHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRzLmFqYXgudXJsICE9IG51bGwgJiYgZGVmYXVsdHMuYWpheC51cmwgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGEoaW5wdXRJZCwgZGVmYXVsdHMsIHR4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdHMuZGVsYXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCArICc+LmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zPnVsJykub24oJ2NsaWNrJywgJ2xpJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFsKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnZhbCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy9lbnRlciBrZXlkb3duXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucz51bCcpLmZpbmQoJ2xpOmZpcnN0JykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkYXB0ZXI6IGZ1bmN0aW9uIGFkYXB0ZXIoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhcGFwdGVyIHVwZGF0ZS4uLicpO1xuICAgICAgICAgICAgICAgIF9hZGFwdGVyKGlucHV0SWQsIGRlZmF1bHRzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNldCBjb2RlZmFsc2UuLi4nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy52YWwoa2V5KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkuc2hvdygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgLy9yZXNldCBpbnB1dFxuICAgICAgICAgICAgICAgIF90aGlzLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJPcHRpb25zKGlucHV0SWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG1ldGhvZHMuaW5pdCgpO1xuICAgICAgICByZXR1cm4gbWV0aG9kcztcbiAgICB9O1xufSkoalF1ZXJ5KTtcbi8qKlxyXG4gKiB2YWxpZGF0ZSBmb3JtXHJcbiAqL1xuKGZ1bmN0aW9uICgkKSB7XG4gICAgY29uc29sZS5sb2coJ2xvYWRlZCBjb2RlZmFsc2UgdmFsaWRhdG9yLi4uJyk7XG59KShqUXVlcnkpOyJdfQ==
