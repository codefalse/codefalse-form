"use strict";!function(f){function d(e,t,n){if(0<n.length){f("#"+e).find(".codefalse-input-options").show();var a=f("#"+e).find(".codefalse-input-options>ul");for(var i in n){var o=n[i],l=o[t.key],s="";for(var u in t.value){var r=t.value[u];""!=s&&(s+=t.separator),s+=o[r]}a.append('<li value="'+l+'">'+s+"</li>")}}}function p(e){f("#"+e+">.codefalse-input-options").hide().find("ul").empty()}f.fn.codefalseInput=function(e,s){var u=f(this),r={placeholder:"Please search...",key:"id",value:["name"],separator:"-",delay:200,ajax:{type:"GET",url:""},allowInputText:!1,searchName:""};f.extend(r,e);var c="",o="",t={init:function(){u.attr("type","hidden");var e=parseInt(1e5*Math.random()+"");o="codefalse-search"+e;var t=u.attr("class"),n='<input id="'+o+'" name="'+r.searchName+'" type="text" class="'+t+'" placeholder="'+r.placeholder+'" autocomplete="off"/>';u.after(n);var a='<div id="'+(c="codefalse-input"+e)+'" class="codefalse-input">        <div class="codefalse-input-options">            <ul></ul>        </div>    </div>';f("#"+o).after(a),f("#"+o).on("input",function(){u.val(""),p(c);var o=f(this),l=o.val();setTimeout(function(){var t,n,e,a,i=o.val();""!=i&&(l==i&&(clearTimeout(),null!=s&&"function"==typeof s&&s(i),null!=r.ajax.url&&""!=r.ajax.url&&(t=c,e=i,a=(n=r).ajax,f.ajax({type:a.type,url:a.url,contentType:"json",data:{codefalse:e},success:function(e){d(t,n,e)}}))))},r.delay)});var i=!0;return f("#"+o).on("blur",function(){i&&(u.val()||r.allowInputText||f(this).val(""),f("#"+c).find(".codefalse-input-options").hide())}),f("#"+c+">.codefalse-input-options").on("mouseenter",function(){i=!1}),f("#"+c+">.codefalse-input-options").on("mouseleave",function(){i=!0}),f("#"+c+">.codefalse-input-options>ul").on("click","li",function(){var e=f(this).val(),t=f(this).text();u.val(e),f("#"+o).val(t),f("#"+c).find(".codefalse-input-options").hide()}),f("#"+o).on("keypress",function(e){13==e.keyCode&&f("#"+c+">.codefalse-input-options>ul").find("li:first").trigger("click")}),this},adapter:function(e){return d(c,r,e),this},reset:function(e,t){return u.val(e),f("#"+o).val(t),this},show:function(){return f("#"+o).show(),this},hide:function(){return f("#"+o).hide(),f("#"+o).val(""),u.val(""),p(c),this}};return t.init(),t}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvZGVmYWxzZS5hbGwuanMiXSwibmFtZXMiOlsiJCIsIl9hZGFwdGVyIiwic2hvd0lkIiwib3B0aW9ucyIsImRhdGEiLCJsZW5ndGgiLCJmaW5kIiwic2hvdyIsInVsIiwibiIsIm9iaiIsImtleSIsInZhbHVlIiwiaSIsIm5hbWUiLCJzZXBhcmF0b3IiLCJhcHBlbmQiLCJjbGVhck9wdGlvbnMiLCJpbnB1dElkIiwiaGlkZSIsImVtcHR5IiwiZm4iLCJjb2RlZmFsc2VJbnB1dCIsImNoYW5nZSIsIl90aGlzIiwidGhpcyIsImRlZmF1bHRzIiwicGxhY2Vob2xkZXIiLCJkZWxheSIsImFqYXgiLCJ0eXBlIiwidXJsIiwiYWxsb3dJbnB1dFRleHQiLCJzZWFyY2hOYW1lIiwiZXh0ZW5kIiwic2VhcmNoSWQiLCJtZXRob2RzIiwiaW5pdCIsImF0dHIiLCJyYW5kb20iLCJwYXJzZUludCIsIk1hdGgiLCJjbGF6eiIsInNlYXJjaElucHV0IiwiYWZ0ZXIiLCJzZWxlY3RPcHRpb25IdG1sIiwib24iLCJ2YWwiLCJzZWxmIiwidHh0MSIsInNldFRpbWVvdXQiLCJwYXJhbXMiLCJ0eHQyIiwiY2xlYXJUaW1lb3V0IiwidW5kZWZpbmVkIiwiY29udGVudFR5cGUiLCJjb2RlZmFsc2UiLCJzdWNjZXNzIiwiaXNIaWRlIiwidGV4dCIsImV2ZW50Iiwia2V5Q29kZSIsInRyaWdnZXIiLCJhZGFwdGVyIiwicmVzZXQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBLGNBS0EsU0FBV0EsR0FrQlAsU0FBU0MsRUFBU0MsRUFBUUMsRUFBU0MsR0FDL0IsR0FBa0IsRUFBZEEsRUFBS0MsT0FBWSxDQUNqQkwsRUFBRSxJQUFNRSxHQUFRSSxLQUFLLDRCQUE0QkMsT0FDakQsSUFBSUMsRUFBS1IsRUFBRSxJQUFNRSxHQUFRSSxLQUFLLCtCQUM5QixJQUFLLElBQUlHLEtBQUtMLEVBQU0sQ0FDaEIsSUFBSU0sRUFBTU4sRUFBS0ssR0FDWEUsRUFBTUQsRUFBSVAsRUFBUVEsS0FD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QU1tQyxHQUFVVyxHQUFHLFdBQVksU0FBVWMsR0FDbEIsSUFBakJBLEVBQU1DLFNBQ043RCxFQUFFLElBQU1rQixFQUFVLGdDQUFnQ1osS0FBSyxZQUFZd0QsUUFBUSxXQUc1RXJDLE1BRVhzQyxRQUFTLFNBQWlCM0QsR0FHdEIsT0FEQUgsRUFBU2lCLEVBQVNRLEVBQVV0QixHQUNyQnFCLE1BRVh1QyxNQUFPLFNBQWVyRCxFQUFLQyxHQUl2QixPQUZBWSxFQUFNdUIsSUFBSXBDLEdBQ1ZYLEVBQUUsSUFBTW1DLEdBQVVZLElBQUluQyxHQUNmYSxNQUVYbEIsS0FBTSxXQUVGLE9BREFQLEVBQUUsSUFBTW1DLEdBQVU1QixPQUNYa0IsTUFFWE4sS0FBTSxXQU1GLE9BTEFuQixFQUFFLElBQU1tQyxHQUFVaEIsT0FDbEJuQixFQUFFLElBQU1tQyxHQUFVWSxJQUFJLElBRXRCdkIsRUFBTXVCLElBQUksSUFDVjlCLEVBQWFDLEdBQ05PLE9BS2YsT0FEQVcsRUFBUUMsT0FDREQsR0FoS2YsQ0FrS0c2QiIsImZpbGUiOiJjb2RlZmFsc2UuYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXHJcbiAqIGFqYXggcmVxdWVzdCBkYXRhIGJ5IGlucHV0W3R5cGU9XCJ0ZXh0XCJdXHJcbiAqL1xuKGZ1bmN0aW9uICgkKSB7XG4gICAgLy9wcml2YXRlIG1ldGhvZFxuICAgIGZ1bmN0aW9uIHJlcXVlc3REYXRhKHNob3dJZCwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBhamF4ID0gb3B0aW9ucy5hamF4O1xuICAgICAgICBjb25zb2xlLmxvZyhhamF4LnVybCArICc6IHNlbmQgYWpheC4uLicpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogYWpheC50eXBlLFxuICAgICAgICAgICAgdXJsOiBhamF4LnVybCxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29kZWZhbHNlOiBwYXJhbXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfYWRhcHRlcihzaG93SWQsIG9wdGlvbnMsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYWRhcHRlcihzaG93SWQsIG9wdGlvbnMsIGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnIycgKyBzaG93SWQpLmZpbmQoJy5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLnNob3coKTtcbiAgICAgICAgICAgIHZhciB1bCA9ICQoJyMnICsgc2hvd0lkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnM+dWwnKTtcbiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSBkYXRhW25dO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBvYmpbb3B0aW9ucy5rZXldO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IG9wdGlvbnMudmFsdWVbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb3B0aW9ucy5zZXBhcmF0b3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb2JqW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bC5hcHBlbmQoJzxsaSB2YWx1ZT1cIicgKyBrZXkgKyAnXCI+JyArIHZhbHVlICsgJzwvbGk+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhck9wdGlvbnMoaW5wdXRJZCkge1xuICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLmhpZGUoKS5maW5kKCd1bCcpLmVtcHR5KCk7XG4gICAgfVxuXG4gICAgJC5mbi5jb2RlZmFsc2VJbnB1dCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjaGFuZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NvZGVmYWxzZSBpbnB1dCBzdGFydGluZy4uLicpO1xuICAgICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgICAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdQbGVhc2Ugc2VhcmNoLi4uJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgICAgIHZhbHVlOiBbJ25hbWUnXSxcbiAgICAgICAgICAgIHNlcGFyYXRvcjogJy0nLFxuICAgICAgICAgICAgZGVsYXk6IDIwMCxcbiAgICAgICAgICAgIGFqYXg6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxsb3dJbnB1dFRleHQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VhcmNoTmFtZTogJydcbiAgICAgICAgfTtcbiAgICAgICAgJC5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBpbnB1dElkID0gJyc7XG4gICAgICAgIHZhciBzZWFyY2hJZCA9ICcnO1xuICAgICAgICB2YXIgbWV0aG9kcyA9IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvZGVmYWxzZSBpbnB1dCBpbml0Li4uJyk7XG4gICAgICAgICAgICAgICAgLy8gaGlkZGVuIGlucHV0XG4gICAgICAgICAgICAgICAgX3RoaXMuYXR0cigndHlwZScsICdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAvLyBjbG9uZSBpbnB1dFxuICAgICAgICAgICAgICAgIHZhciByYW5kb20gPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMTAwMDAwICsgJycpO1xuICAgICAgICAgICAgICAgIHNlYXJjaElkID0gJ2NvZGVmYWxzZS1zZWFyY2gnICsgcmFuZG9tO1xuICAgICAgICAgICAgICAgIHZhciBjbGF6eiA9IF90aGlzLmF0dHIoJ2NsYXNzJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaElucHV0ID0gJzxpbnB1dCBpZD1cIicgKyBzZWFyY2hJZCArICdcIiBuYW1lPVwiJyArIGRlZmF1bHRzLnNlYXJjaE5hbWUgKyAnXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cIicgKyBjbGF6eiArICdcIiBwbGFjZWhvbGRlcj1cIicgKyBkZWZhdWx0cy5wbGFjZWhvbGRlciArICdcIiBhdXRvY29tcGxldGU9XCJvZmZcIi8+JztcbiAgICAgICAgICAgICAgICBfdGhpcy5hZnRlcihzZWFyY2hJbnB1dCk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHNlbGVjdCBvcHRpb25cbiAgICAgICAgICAgICAgICBpbnB1dElkID0gJ2NvZGVmYWxzZS1pbnB1dCcgKyByYW5kb207XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdE9wdGlvbkh0bWwgPSAnPGRpdiBpZD1cIicgKyBpbnB1dElkICsgJ1wiIGNsYXNzPVwiY29kZWZhbHNlLWlucHV0XCI+JyArICcgICAgICAgIDxkaXYgY2xhc3M9XCJjb2RlZmFsc2UtaW5wdXQtb3B0aW9uc1wiPicgKyAnICAgICAgICAgICAgPHVsPjwvdWw+JyArICcgICAgICAgIDwvZGl2PicgKyAnICAgIDwvZGl2Pic7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkuYWZ0ZXIoc2VsZWN0T3B0aW9uSHRtbCk7XG4gICAgICAgICAgICAgICAgLy9hZGQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJPcHRpb25zKGlucHV0SWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR4dDEgPSBzZWxmLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHQyID0gc2VsZi52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eHQyID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJysrKysrKysrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR4dDEgPT0gdHh0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2FsbCBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlICE9IHVuZGVmaW5lZCAmJiB0eXBlb2YgY2hhbmdlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlKHR4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdHMuYWpheC51cmwgIT0gbnVsbCAmJiBkZWZhdWx0cy5hamF4LnVybCAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YShpbnB1dElkLCBkZWZhdWx0cywgdHh0Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBkZWZhdWx0cy5kZWxheSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzSGlkZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0hpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMudmFsKCkgJiYgIWRlZmF1bHRzLmFsbG93SW5wdXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucycpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpc0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoJyMnICsgaW5wdXRJZCArICc+LmNvZGVmYWxzZS1pbnB1dC1vcHRpb25zPnVsJykub24oJ2NsaWNrJywgJ2xpJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFsKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnZhbCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpbnB1dElkKS5maW5kKCcuY29kZWZhbHNlLWlucHV0LW9wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy9lbnRlciBrZXlkb3duXG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkub24oJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGlucHV0SWQgKyAnPi5jb2RlZmFsc2UtaW5wdXQtb3B0aW9ucz51bCcpLmZpbmQoJ2xpOmZpcnN0JykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkYXB0ZXI6IGZ1bmN0aW9uIGFkYXB0ZXIoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhcGFwdGVyIHVwZGF0ZS4uLicpO1xuICAgICAgICAgICAgICAgIF9hZGFwdGVyKGlucHV0SWQsIGRlZmF1bHRzLCBkYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNldCBjb2RlZmFsc2UuLi4nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy52YWwoa2V5KTtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHNlYXJjaElkKS52YWwodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkuc2hvdygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBzZWFyY2hJZCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJyMnICsgc2VhcmNoSWQpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgLy9yZXNldCBpbnB1dFxuICAgICAgICAgICAgICAgIF90aGlzLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJPcHRpb25zKGlucHV0SWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG1ldGhvZHMuaW5pdCgpO1xuICAgICAgICByZXR1cm4gbWV0aG9kcztcbiAgICB9O1xufSkoalF1ZXJ5KTsiXX0=
